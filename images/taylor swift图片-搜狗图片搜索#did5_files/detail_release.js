function uigs_getCookie(a){return uigs_cookieArray[a]}function uigs_getCookiePara(){var a="";if("undefined"!=typeof uigs_para)if("undefined"==typeof uigs_para.uigs_cookie);else{var b=uigs_para.uigs_cookie.split(",");for(i in b)"undefined"!=typeof uigs_getCookie(b[i])&&"SUV"!=b[i]&&(a=""==a?b[i]+"="+uigs_getCookie(b[i]):a+"&"+b[i]+"="+uigs_getCookie(b[i]))}return encodeURIComponent(a)}function uigs_getPingbackhead(a){if("undefined"!=typeof uigs_para&&"undefined"!=typeof uigs_para.uigs_productid){uigs_c=escape(1e3*(new Date).getTime()+Math.round(1e3*Math.random())),r="function"==typeof encodeURIComponent?encodeURIComponent(document.referrer):document.referrer;var b="";b+="undefined"!=typeof a?"?uigs_productid="+a:"?uigs_productid="+uigs_para.uigs_productid,b+="&uigs_t="+uigs_c,"undefined"==typeof uigs_para.uigs_cookie||(b+="&uigs_cookie="+uigs_getCookiePara()),"undefined"!=typeof uigs_para.uigs_uuid&&(b+="&uigs_uuid="+uigs_para.uigs_uuid);for(i in uigs_para)"uigs_cookie"==i||"uigs_uuid"==i||"uigs_productid"==i||(b+="&"+encodeURIComponent(i)+"="+encodeURIComponent(uigs_para[i]));return b+="&uigs_version="+uigs_version+"&uigs_refer="+r}return""}function uigs_pv(){if(uigs_getCookie("SUV")||(uigs_c=escape(1e3*(new Date).getTime()+Math.round(1e3*Math.random())),cookie="SUV="+uigs_c+";path=/;expires=Tue, 19-Jan-2046 00:00:00 GMT;domain=sogou.com"),"undefined"!=typeof uigs_para&&"undefined"!=typeof uigs_para.uigs_productid){var a=uigs_staytime;0>uigs_staytime&&(a=0-uigs_staytime);var b=uigs_pvpingbackurl+uigs_getPingbackhead(),c=uigs_pbs.length;uigs_pbs[c]=new Image,uigs_pbs[c].src=b}}function uigsPB(a,b){if("undefined"!=typeof uigs_para&&"undefined"!=typeof uigs_para.uigs_productid){var c=uigs_staytime;0>uigs_staytime&&(c=0-uigs_staytime);var d=uigs_clpingbackurl;d+="undefined"!=typeof b?uigs_getPingbackhead(b):uigs_getPingbackhead(),d+="&uigs_st="+parseInt(((new Date).getTime()-c)/1e3)+"&uigs_cl="+encodeURIComponent(a);var e=uigs_pbs.length;uigs_pbs[e]=new Image,uigs_pbs[e].src=d}}function uigs_iecompattest(){return document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body}function uigs_onbeforeunload(){uigs_staytime>0&&(st="close="+parseInt(((new Date).getTime()-uigs_staytime)/1e3),uigsPB(st),uigs_staytime=0-uigs_staytime)}function sogouSugg(a){function b(a){return O.getElementById(a)}function c(a,b,c){return a?a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c):void 0}function d(a){var b=new Date,c=1e3*b.getTime()+Math.round(1e3*Math.random()),d="";""!=R&&(d="pic");var e=["http://pb.sogou.com/cl.gif","?uigs_productid=",encodeURIComponent(d),"&uigs_t=",c,"&w=",encodeURIComponent(I.value),"&k=",encodeURIComponent(na),"&s="];e.push(-1!=qa?"t":"f"),-1!=qa&&(e.push("&stj0="+ja[qa]),e.push("&stj1="+ka[qa])),e.push("&hp="+la),e.push("&hp1="+ma),-1!=qa&&(e.push("&cline="),e.push(qa)),a&&(e.push("&act="),e.push(encodeURIComponent(a))),e.push("&r="+b.getSeconds()),e.push("&abtestid="+encodeURIComponent(W)),e.push("&uk="+(ta?1:0)),e.push("&sbby="+ua),e.push("&idc="+encodeURIComponent(P)),(new Image).src=e.join("")}function e(){if(!b(Q))return void setTimeout(e,50);for(I=b(Q),J=I.parentNode;J&&"form"!=J.tagName.toLowerCase();)J=J.parentNode;J&&(M.reset&&J.reset(),I.setAttribute("autocomplete","off"),c(I,"mousedown",f),c(I,"keydown",q))}function f(){_&&D(),M.oms&&(da="",ea="")}function g(){var a=h(V?I.parentNode:I);H.style.top=a[1]+a[3]+"px",H.style.left=a[0]+"px",H.style.width=a[2]+"px",aa&&(aa.style.top=a[1]+a[3]+"px",aa.style.left=a[0]+"px",aa.style.width=a[2]+"px",aa.style.height=H.offsetHeight+"px",setTimeout(function(){aa.style.height=H.offsetHeight+"px"},1))}function h(a){var b=0,c=0,d=a.offsetWidth,e=a.offsetHeight;return a&&(b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent),[b,c,d,e]}function i(){return I.value}function j(){var a=i();a&&da!=a&&ea==a?fa||(fa=setTimeout(function(){da="",qa=-1,k(a)},100)):(clearTimeout(fa),fa=0,ea=a,a||B()),setTimeout(j,10)}function k(a){if(ra||(ra=(new Date).getTime()),oa[a]){(new Date).getTime();o(oa[a])}else{try{O.body.removeChild(pa)}catch(b){}pa=O.createElement("script"),pa.src=$+"?key="+encodeURIComponent(a)+"&type="+R+"&pr="+S+"&abtestid="+W+"&ipn="+X,pa.charset="gb2312",O.body.appendChild(pa)}}function l(a){return null!=a?a.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""}function m(a,b){var c=a;return 0==a.indexOf(b)&&(c=b+"<b>"+a.substr(b.length)+"</b>"),c}function n(a){return a.replace("<b>","").replace("</b>","")}function o(b){if(!_){if(na=b[0]||na,ha=b[1],b.length>2){ia=b[2];for(var c=0;c<ia.length;++c){var d=ia[c].split(";");null!=d&&d.length>=2?(ja.push(d[0]),ka.push(d[1])):(ja.push(-1),ka.push(0))}}b.length>3&&(ma=b[3][0]);var e=0;u(),ga=-1;var f,h=O.createElement("ul");ba=[];for(var e=0;e<ha.length&&10>e;e++)f=O.createElement("li"),f.onmouseover=w,f.onmousedown=x,f.onclick=y,f.setAttribute("lid",e),f.innerHTML=m(l(ha[e]),l(na)),ba.push(f),h.appendChild(f);H.innerHTML="",H.appendChild(h),(ha.length>0||a)&&N&&(A(),g()),0!=ha.length&&N||B()}}function p(a){return a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.returnValue=!1}function q(a){if(_&&D(),ra||(ra=(new Date).getTime()),a=a||window.event,27==a.keyCode)z()&&B();else{if(13==a.keyCode){B(),ua="enter";try{J.enter&&(J.enter.value="1"),uigsPB("search_enter")}catch(b){}return J.onsubmit&&0==J.onsubmit()||J.submit(),p(a)}if(z()){if(38==a.keyCode)return ta=!0,s(),p(a);if(9==a.keyCode||40==a.keyCode)return ta=!0,r(),p(a)}else(38==a.keyCode||40==a.keyCode)&&(ta=!0,i()&&k(i()))}}function r(){ga++,ga==ha.length&&(ga=-1),t()}function s(){ga--,-2==ga&&(ga=ha.length-1),t()}function t(){u(),ga>=0?(ba[ga].className="over",I.value=n(ha[ga])):I.value=na,qa=ga,da=I.value}function u(){for(var a=0;a<ba.length;a++)ba[a].className=""}function v(){u(),ga=-1}function w(){"over"!=this.className&&(v(),this.className="over",ga=parseInt(this.getAttribute("lid")))}function x(a){return a&&a.stopPropagation&&a.stopPropagation(),ca=1,!1}function y(){qa=parseInt(this.getAttribute("lid")),I.value=ha[qa],da=I.value,B(),ua="mouse",J.onsubmit&&0==J.onsubmit()||J.submit()}function z(){return"block"==H.style.display}function A(){z()||d("show_s"),H.style.display="block",aa&&(aa.style.display="block")}function B(){H.style.display="none",aa&&(aa.style.display="none")}function C(){var a=0;if(null==ka||ka.length<1)return 0;for(var b=0;b<ka.length;++b){var c=parseInt(ka[b]);a+=c}return a}function D(){function a(a,b,c){if("function"==typeof f&&0==f(a,b,c))return!1;F(),la=C();var e={w:U};-1!=qa&&(e={w:T,oq:na,ri:qa,sourceid:"sugg"},ia.length>0&&(e={w:T,oq:na,ri:qa,sourceid:"sugg",stj:ia[qa],stj0:ja[qa],stj1:ka[qa],hp:la,hp1:ma})),e.sut=ra?(new Date).getTime()-ra:0,e.sst0=(new Date).getTime();var g,h,i=J.getElementsByTagName("input");for(var j in e){for(g=0;g<i.length;g++)if(i[g].getAttribute("name")==j){i[g].value=e[j];break}g==i.length&&(h=document.createElement("input"),h.type="hidden",h.name=j,h.value=e[j],J.appendChild(h))}return d("sb"),!0}function b(){function a(a,c){b.push(a,"{",c,"}")}var b=[];a(".sgs_b","font:14px/20px arial;position:absolute;text-align:left;z-index:2001;display:none;"),a(".sgs_f","position:absolute;display:none;"),a(".sgs_b ul","list-style:none;border:1px solid #B9B9B9;border-top:none;margin:0;padding-left:0;"),a(".sgs_b li","height:auto;cursor:pointer;padding-left:6px;background:#fff;color:#000;position:relative;line-height:24px;height:24px;"),a(".sgs_b li.over","background:#36c;color:#fff");var c=O.createElement("style");c.setAttribute("type","text/css"),O.getElementsByTagName("head")[0].appendChild(c),K?c.styleSheet.cssText=b.join(""):c.appendChild(O.createTextNode(b.join("")))}function e(){if(K){I.offsetParent.style.position="relative";for(var a=I.offsetParent;a;)parseInt(a.currentStyle.zIndex)||(a.style.zIndex="2000"),a=a.offsetParent}H=O.createElement("div"),H.className="sgs_b";var b,c=O.createElement("ul");ba=[];for(var d=0;10>d;d++)b=O.createElement("li"),b.onmouseover=w,b.onmousedown=x,b.onclick=y,b.setAttribute("lid",d),ba.push(b),c.appendChild(b);H.appendChild(c),H.onmouseout=v,V?I.parentNode.offsetParent.appendChild(H):I.offsetParent.appendChild(H),K&&(aa=O.createElement("iframe"),aa.className="sgs_f",aa.setAttribute("frameBorder","0"),V?I.parentNode.offsetParent.appendChild(aa):I.offsetParent.appendChild(aa))}if(_){_=0,da=I.value,U=U||(J.w&&J.w.value?J.w.value:U),0!=$.indexOf("http://")&&($="http://"+$);var f=J.onsubmit||function(){};J.onsubmit=a,c(I,"blur",B),c(I,"beforedeactivate",function(){ca&&(window.event.cancelBubble=!0,window.event.returnValue=!1,ca=0)}),b(),e(),j()}}function E(){var a=O.cookie,b="sct=",c=a.indexOf("; "+b);if(-1==c){if(c=a.indexOf(b),0!=c)return null}else c+=2;var d=a.indexOf(";",c);return-1==d&&(d=a.length),a.substring(c+b.length,d)}function F(){var a=parseInt(E()||0)||0;document.cookie="sct="+(a+1)+"; expires=Thu, 21-Jul-2020 00:00:00 GMT; path=/;domain=sogou.com;"}function G(a){if(!(a&&0!=a.button||!a&&0!=window.event.button)){a=a||window.event;for(var b,c=a.target?a.target:a.srcElement;c&&c.tagName;){if("A"==c.tagName.toUpperCase())return b=c.href||"",void(0==b.indexOf("http://www.sogou.com/")&&b.indexOf("query=")>0&&F());c=c.parentNode}}}"object"!=typeof SugPara&&(SugPara={});var H,I,J,K=-1!=navigator.userAgent.indexOf("MSIE")&&!window.opera,L=this,M=a||SugPara,N=a?0:1,O=document,P=M.idc||"unk",Q=M.inputid||"query",R=M.sugType||"web",S=M.productId||R,T=(M.postFix||"",M.preFix||"",M.revsd||0,M.suggestRid||""),U=M.normalRid||"",V=M.useParent||0,W=M.abtestid||"",X=M.ipn||"",Y=M.domain||"sugg.sogou.com",Z=M.uri||"/sugg/ajaj_json.jsp",$=Y+Z,_=1,aa=null,ba=[],ca=0,da="",ea="",fa=0,ga=-1,ha=[],ia=[],ja=[],ka=[],la=0,ma=0,na="",oa={},pa=null,qa=-1,ra=0,sa=function(){};L.sw=function(a,b){if(!b)try{o(["",[]])}catch(c){}N=b||!1,da=a||""},("object"!=typeof window.sogou||null==window.sogou)&&(window.sogou={}),"undefined"!=typeof window.sogou.sug&&(sa=window.sogou.sug),window.sogou.sug=function(a){try{sa(a)}catch(b){}oa[a[0]]=a,o(a)};var ta=!1,ua="default",va=O.onclick||function(){};a||(O.onclick=function(a){var b=va(a);return G(a),b}),e()}function check(){var a=document.getElementById("url_form_query").value;if(a=a.replace(/(^\s*)|(\s*$)/g,""),0===a)return!1;if(a.length<7||"http://"!=a.substring(0,7)&&"https://"!=a.substring(0,8))return alert("请输入以http://开头的网络图片地址！"),!1;var b=a.substring(8);return b.indexOf("/")<0?(alert("请输入正确的网络图片地址！"),!1):(a=a.substring(a.lastIndexOf(".")+1,a.length),a=a.toLowerCase(),a.length<5&&"jpg"!=a&&"gif"!=a&&"png"!=a&&"jpeg"!=a&&"bmp"!=a?(alert("抱歉，目前不支持此文件格式，请确认图片是JPG、GIF、PNG、JPEG、BMP格式。"),!1):!0)}function check_uploadfile(a){try{var b=0,c="";if(b=a.files[0].size,c=a.files[0].type,b>1e7)return alert("您上传的文件过大，请选择小于10M的文件上传。"),!1;if(c.indexOf("image")<0)return alert("抱歉，目前不支持此文件格式，请确认图片是JPG、GIF、PNG、JPEG、BMP格式。"),!1}catch(d){}return!0}function uploadfile_change(a){var b=check_uploadfile(a);b?(a.form.submit(),file_load()):a.form.reset()}function url_form_change(){var a=$("#url_form_query").val();"请粘贴图片网址"!=a&&a.indexOf("请")>=0?(a=a.replace("请",""),a=a.replace("粘",""),a=a.replace("贴",""),a=a.replace("图",""),a=a.replace("片",""),a=a.replace("网",""),a=a.replace("址",""),$("#url_form_query").val(a)):""===a&&(a="请粘贴图片网址",$("#url_form_query").val(a))}function file_load(){$("#dragbox_load").find("img").attr("src","/home_2016/images/st.gif"),$("#dragbox_load").show(),$("#dragbox_file").hide()}function ShituPanel(){"undefined"==typeof ShituPanel._initialized&&($.extend(ShituPanel.prototype,{init:function(){}}),ShituPanel._initialized=!0)}function DragStrategy(){var a=!1,b="";"undefined"==typeof DragStrategy._initialized&&($.extend(DragStrategy.prototype,{body_drag_enter:function(a){var b=!1;try{for(var c=0;c<a.originalEvent.dataTransfer.items.length;c++){if(a.originalEvent.dataTransfer.items[c].type.match(/^image\//i)){b=!0;break}return}}catch(d){}b?$("#dragbox_file").fadeIn(300):$("#dragbox_common").fadeIn(300),$("#dragbox_common").hasClass("st-hover")&&$("#dragbox_common").removeClass("st-hover"),$("#dragbox_file").hasClass("st-hover")&&$("#dragbox_file").removeClass("st-hover")},body_drag_drop:function(b){a===!1&&(img_drag===!0?($("#dragbox_common").fadeOut(300),$("#dragbox_file").fadeOut(),img_drag=!1):($("#dragbox_file").fadeOut(300),$("#dragbox_common").fadeOut()))},handleDrop:function(c){a=!0;var d=c.originalEvent.dataTransfer.files;if(c.stopPropagation(),c.preventDefault(),d.length>0);else if(""!==b)b=decodeURIComponent(b),$("#url_form_query").attr("value",b),$("#url_form_drag").attr("value",1),$("#url_form").submit(),$("#dragbox_load").find("img").attr("src","/home_2016/images/st.gif"),$("#dragbox_load").show(),$("#dragbox_common").hide();else{var e=c.originalEvent.dataTransfer.getData("URL");""!==e?location.href="/ris?flag=1&query="+encodeURIComponent(e):$("#dragbox_common").fadeOut()}$("#dragbox_load").find("img").attr("src","/home_2016/images/st.gif"),$("#dragbox_load").show(),$("#dragbox_common").hide()},bindContainEvent:function(){var b=$("#dragbox_common");b.bind("dragenter",function(a){a.stopPropagation(),a.preventDefault()}).bind("dragover",function(a){b.hasClass("st-hover")||b.addClass("st-hover"),a.stopPropagation(),a.preventDefault()}).bind("dragleave",function(a){b.removeClass("st-hover"),a.stopPropagation(),a.preventDefault()}).bind("drop",this.handleDrop);var c=$("#dragbox_file");c.bind("dragenter",function(b){a=!0}).bind("dragover",function(a){c.addClass("st-hover"),a.stopPropagation(),a.preventDefault()}).bind("dragleave",function(a){b.removeClass("st-hover"),a.stopPropagation(),a.preventDefault()})},bindBodyEvent:function(){var a=$("body");a.bind("dragenter",this.body_drag_enter),"Microsoft Internet Explorer"!=navigator.sgAppName?a.bind("dragover",function(a){a.stopPropagation(),a.preventDefault()}):a.bind("mouseup",function(a){$("#dragbox_common").hide(),$("#dragbox_file").hide()}),a.bind("drop",this.body_drag_drop)},bindImageEvent:function(a){$.browser.mozilla?$("body").on("mouseenter",a,function(a){b=$(this).attr("img_src")||$(this).attr("src"),img_drag=!0}):$("body").on("dragstart",a,function(a){b=$(this).attr("img_src")||$(this).attr("src"),$("#dragbox_common").fadeIn(),img_drag=!0})},init:function(){navigator.userAgent;$.browser.msie||(this.bindContainEvent(),this.bindBodyEvent(),this.bindImageEvent("img"))}}),DragStrategy._initialized=!0)}function Ajaj(a){this.init(a),this.action()}function QR8bitByte(a){this.mode=QRMode.MODE_8BIT_BYTE,this.data=a}function QRCode(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}function QRPolynomial(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function QRRSBlock(a,b){this.totalCount=a,this.dataCount=b}function QRBitBuffer(){this.buffer=new Array,this.length=0}function setCurDisplayImg1(){var a=document.getElementById("PicDetail");try{gImgDetailObj.currentState.did;a.setCurDisplayImg(gImgDetailObj.currentState.did,gImgDetailObj.currentState.zutuIndex)}catch(b){}}function flashBackChangePic(a,b,c,d,e){var f=gImgDetailObj.botViewList.getFirstRenderIndex(b);gImgDetailObj.data[f]||gImgDetailObj.dataManager.getDataByDid(f,!1),gImgDetailObj.data[b]||gImgDetailObj.dataManager.getDataByDid(b,!1);var g=f+gImgDetailObj.botViewList.picNum;g<gImgDetailObj.dataManager.options.maxPn&&!gImgDetailObj.data[g-1]&&gImgDetailObj.dataManager.getDataByDid(g-1,!1),gImgDetailObj.changePic(a,b,c,d,e)}function imgOnError(a){a.src.indexOf("_tiny")>0&&(a.src=a.src.replace("_tiny","")),a.onerror=null}!function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],
my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&n>h(c+d)&&(i.horizontal="center"),m>p&&p>h(e+f)&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=p>=Math.abs(j-t),e=p>=Math.abs(k-s),f=p>=Math.abs(h-r),g=p>=Math.abs(i-q),d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=p>=Math.abs(j-s),e=p>=Math.abs(k-t),f=p>=Math.abs(h-q),g=p>=Math.abs(i-r),d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),"undefined"!=typeof jQuery&&!function(a){a.imgpreload=function(b,c){c=a.extend({},a.fn.imgpreload.defaults,c instanceof Function?{all:c}:c),"string"==typeof b&&(b=new Array(b));var d=new Array;a.each(b,function(e,f){var g=new Image,h=f,i=g;"string"!=typeof f&&(h=a(f).attr("src"),i=f),a(g).bind("load error",function(e){d.push(i),a.data(i,"loaded","error"==e.type?!1:!0),c.each instanceof Function&&c.each.call(i),d.length>=b.length&&c.all instanceof Function&&c.all.call(d),a(this).unbind("load error")}),g.src=h})},a.fn.imgpreload=function(b){return a.imgpreload(this,b),this},a.fn.imgpreload.defaults={each:null,all:null}}(jQuery);var uigs_clpingbackurl="http://pb.sogou.com/cl.gif",uigs_pvpingbackurl="http://pb.sogou.com/pv.gif",uigs_version="v1.1",uigs_staytime=(new Date).getTime();"undefined"!=typeof uigs_para&&"undefined"!=typeof uigs_para.uigs_clpingbackurl&&""!==uigs_para.uigs_clpingbackurl&&(uigs_clpingbackurl=uigs_para.uigs_clpingbackurl),"undefined"!=typeof uigs_para&&"undefined"!=typeof uigs_para.uigs_pvpingbackurl&&""!==uigs_para.uigs_pvpingbackurl&&(uigs_pvpingbackurl=uigs_para.uigs_pvpingbackurl);for(var uigs_cookieArray=new Array,uigs_acookie=document.cookie.split("; "),uigs_pbs=new Array,i=0;i<uigs_acookie.length;i++){var arr=uigs_acookie[i].split("=");uigs_cookieArray[arr[0]]=arr[1]}uigs_d=escape(1e3*(new Date).getTime()+Math.round(1e3*Math.random())),"undefined"!=typeof uigs_para&&"undefined"==typeof uigs_para.uigs_uuid&&(uigs_para.uigs_uuid=uigs_d);var uigs_spv;"undefined"!=typeof uigs_pvflag&&uigs_pvflag||uigs_spv||uigs_pv(),uigs_spv=1,$uigs_d=document;var uigs_oldclick=$uigs_d.onclick;$uigs_d.onclick=function(a){var b;return uigs_oldclick&&(b=uigs_oldclick(a)),uigs_clickit(a),b};var uigs_clickit=function(a){if("undefined"!=typeof uigs_para&&"undefined"!=typeof uigs_para.uigs_productid){if(a&&0!=a.button||!a&&0!=window.event.button)return;try{a=a||window.event;for(var b=a.target?a.target:a.srcElement,c="",d="",e="",f="",g="";""==c;){if(f=b.tagName.toUpperCase(),c||(c=b.uigs||b.getAttribute("uigs")||""),c&&"nouigs"==c)return;("A"==f||"LINK"==f||"AREA"==f||"INPUT"==f||"DIV"==f)&&(e=f),b.href&&(g=b.href);try{if(e==uigs_para.uigs_pbtag){for(d=b.id||b.getAttribute("id")||"";""==d&&b.parentNode&&(b=b.parentNode,b.tagName);)d||(d=b.id||b.getAttribute("id")||"");break}}catch(h){}if(!b.parentNode)break;if(b=b.parentNode,!b.tagName)break}if(e&&c||e&&e==uigs_para.uigs_pbtag){var i="";""!=c&&(i+=c+"&"),""!=d&&(i+=d+"&"),uigsPB(i+"href="+g)}}catch(j){}}},uigs_al=!1,uigs_judgeBottom=function(){try{var a=uigs_iecompattest().clientHeight,b=uigs_iecompattest().scrollHeight,c=uigs_iecompattest().scrollTop;if(c>100&&100>b-a-c&&!uigs_al){uigs_al=!0;var d="",e=uigs_staytime;0>uigs_staytime&&(e=0-uigs_staytime),d="tob="+parseInt(((new Date).getTime()-e)/1e3),uigsPB(d)}}catch(f){}},smugg=new sogouSugg;$(function(){function a(a){var c,d,e=a.originalEvent.clipboardData;if(e){if(c=e.items,!c)return;d=c[0],d&&"file"===d.kind&&d.type.match(/^image\//i)&&b(d)}}$("#stswitcher").click(function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,$("#querybox").css("visibility","hidden"),$("#shitubox").fadeIn(400),$("#url_form_query").focus()}),$("#shitubox").bind("click",function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}),$.browser.msie?($("#url_form_query").get(0).onpropertychange=url_form_change,$("#ie_panel").show()):($("#url_form_query").get(0).addEventListener("input",url_form_change,!1),$("#no_ie_panel").show()),$("#closeshitubox").click(function(){$("#querybox").css("visibility",""),$("#shitubox").fadeOut(400)}),$("#close_dragbox_file").click(function(){$("#dragbox_file").fadeOut(400)}),$("#close_dragbox_load").click(function(){$("#dragbox_load").fadeOut(400)}),$("#close_dragbox_common").click(function(){$("#dragbox_common").fadeOut(400)}),$("#url_form_sbm").click(function(){check()===!0&&$("#url_form").submit()}),$("#upload_pic_btn").click(function(a){$("#upload_pic_file").trigger("click"),a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}),$("#upload_pic_btn_ie").click(function(a){$("#upload_pic_file").trigger("click"),a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}),$("#upload_pic_file").click(function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}),$("#img_query_box_btn").click(function(){$("#img_query_box").hide()}),$("#pic_smb").click(function(){""===$("#form_querytext").val()?location.href=location.href:$("#pic_form").submit()}),$("#form_querytext").click(function(){$("#img_query_box").fadeOut()}),$("#form_querytext").blur(function(){""===$.trim($("#form_querytext").attr("value"))&&$("#img_query_box").fadeIn()}),$("#help_icon").bind("mouseenter",function(){$.browser.msie&&$("#url_form_query").blur(),$("#help_content").show()}).bind("mouseout",function(){$("#help_content").hide(),$.browser.msie&&$("#url_form_query").focus()}),$("#dragbox_common").bind("mouseenter",function(){$("#dragbox_common").addClass("st-hover")}).bind("mouseout",function(){$("#dragbox_common").removeClass("st-hover")}),$(document).bind("click",function(a){navigator.userAgent.toLowerCase().indexOf("firefox")>0||($("#shitubox").is(":visible")===!0&&$("#shitubox").hide(),$("#dragbox_load").is(":visible")===!0&&$("#dragbox_load").hide(),$("#dragbox_file").is(":visible")===!0&&$("#dragbox_file").hide(),$("#dragbox_common").is(":visible")===!0&&$("#dragbox_common").hide())});var b=function(a){var b=a.getAsFile(),c=new FormData;c.append("file",b),$.ajax({url:"/pic/upload_pic.jsp",type:"POST",data:c,processData:!1,contentType:!1,success:function(a){location.href="http://pic.sogou.com/ris?flag=1&clip=true&query="+a}}),$(".suggestion").hide(),$("#dragbox_load").find("img").attr("src","/home_2016/images/st.gif"),$("#dragbox_load").show()};try{$("#form_querytext").on("paste",a),$("#url_form_query").on("paste",a)}catch(c){}}),jQuery.utils={getViewWidth:function(){var a=document,b="BackCompat"==a.compatMode?a.body:a.documentElement;return b.clientWidth},getViewHeight:function(){var a=document,b="BackCompat"==a.compatMode?a.body:a.documentElement;return b.clientHeight},getTop:function(){var a=document;return window.pageYOffset||a.documentElement.scrollTop||a.body.scrollTop},scrollTop:function(a){$("html,body").animate({scrollTop:a},0)},getLeft:function(){var a=document;return window.pageXOffset||a.documentElement.scrollLeft||a.body.scrollLeft},queryToJson:function(a){var b=a.indexOf("#"),c=a.lastIndexOf("?")+1,d="";d=b>=0?a.substring(c,b):a.substring(c);for(var e,f,g,h,i=d.split("&"),j=i.length,k={},l=0;j>l;l++)i[l]&&(h=i[l].split("="),e=h[0],f=h[1],g=k[e],"undefined"==typeof g?k[e]=f:$.isArray(g)?g.push(f):k[e]=[g,f]);return k},jsonToQuery:function(a,b){var c,d=[],e=b||function(a){return $.utils.escapeSymbol(a)};return $.each(a,function(a,b){if($.isArray(b))for(c=b.length;c--;)d.push(a+"="+e(b[c],a));else d.push(a+"="+e(b,a))}),d.join("&")},escapeSymbol:function(a){return String(a).replace(/[#%&+=\/\\\ \　\f\r\n\t]/g,function(a){return"%"+(256+a.charCodeAt()).toString(16).substring(1).toUpperCase()})},escapeXSS:function(a){return a.replace(/[<>]/g,function(a){return encodeURIComponent(a)}).replace(/"/g,"%22").replace(/'/g,"%27")},compareObject:function(a,b){var c=!0;if("object"!=typeof a||"object"!=typeof b)c=a===b;else{var d={};d=$.extend(d,a),d=$.extend(d,b);for(var e in d)if(c=a[e]===b[e]?!0:"object"==typeof a[e]&&"object"==typeof b[e]?BD.IMG.utils.compareObj(a[e],b[e]):!1,!c)break}return c},decodeHTML:function(a){var b=String(a).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return b.replace(/&#([\d]+);/g,function(a,b){return String.fromCharCode(parseInt(b,10))})},encodeHTML:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},getSite:function(a){if(a){var b=a.indexOf("://");b>0&&(a=a.substring(b+3));var c=a.indexOf("/");return c>0&&(a=a.substring(0,c)),a}return""},isInt:function(a){var b="^[0-9]*[1-9][0-9]*$",c=new RegExp(b);return!(null==a.match(c))},getCharLen:function(a){var b=0,c=a.length;if(a){for(var d=0;c>d;d++)a.charCodeAt(d)>255?b+=2:b++;return b}return 0},zoomImgFull:function(a,b,c,d){var e=c,f=d,g=c/a,h=d/b;g>=h?(f=b,e=c*b/d):(e=a,f=d*a/c);var i=(a-e)/2,j=(b-f)/2;return{width:e,height:f,marginLeft:i,marginTop:j}},zoomImg:function(a,b,c,d){if(a>=c&&b>=d)return{width:c,height:d,marginTop:0,marginLeft:0};var e=a/b,f=c/d;return e>f?{width:c*b/d,height:b,marginTop:(a-c*b/d)/2,marginLeft:0}:f>e?{width:a,height:a*d/c,marginTop:0,marginLeft:(a-a*d/c)/2}:{width:a,height:b,marginTop:0,marginLeft:0}},zoomImgBig:function(a,b,c,d){if(a>=c||b>=d)return{width:c,height:d};var e=a/b,f=c/d;return e>f?{width:a,height:a*d/c}:f>e?{width:b*c/d,height:b}:{width:a,height:b}},cutString:function(a,b){return a.length<b?a:a.substring(0,b)+".."},highlightRedString:function(a,b){var c="",d="",e="";if(a)for(e=$.utils.encodeHTML(a);;){if(-1==e.indexOf(c)||-1==e.indexOf(d))break;e=e.replace(c,"<font color='#f55555'>"),e=e.replace(d,"</font>")}return e},getSite:function(a){var b=a.indexOf("://");b>0&&(a=a.substring(b+3));var c=a.indexOf("/");return c>0&&(a=a.substring(0,c)),a},getPicExt:function(a){var b="";if(a&&""!=a){var c=a.lastIndexOf("."),d=a.lastIndexOf("/");c>0&&c>d&&(b=a.substring(c+1).toLowerCase())}return(""==b||"jpg"!=b&&"gif"!=b&&"png"!=b&&"bmp"!=b)&&(b="jpg"),b},isGif:function(a){var b=!1;if(a&&""!=a){var c=a.lastIndexOf("/");c==a.length-1&&(a=a.substring(0,a.length-1),c=a.lastIndexOf("/")),c>0&&(a=a.substring(c+1).toLowerCase(),a.indexOf(".gif")>0&&(b=!0))}return b},preventDefault:function(a){navigator.userAgent.toLowerCase().indexOf("msie")>=0?(event.returnValue=!1,event.cancelBubble=!0):(a.preventDefault(),a.stopPropagation())},getWordWidth:function(a,b,c){var d=0;if(a)for(var e=a.length,f=0;e>f;f++)d+=a.charCodeAt(f)>255?14:8;return d},detectFlash:function(){if(navigator.mimeTypes.length>0){var a=navigator.mimeTypes["application/x-shockwave-flash"];return null!=a?null!=a.enabledPlugin:!1}if(self.ActiveXObject)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),!0}catch(b){return!1}},getWordWidth1:function(a,b,c){var d=0;if(a)for(var e=a.length,f=0;e>f;f++)d+=a.charCodeAt(f)>255?17:9;return d}},Ajaj.prototype={init:function(a){this.scriptId=a.scriptId||"ajaj_script",this.url=a.url,this.charset=a.charset||"gbk",this.parameters=a.parameters,this.onComplete=a.onComplete},action:function(){if(!this.onComplete||"function"!=typeof this.onComplete)throw new Error("need onComplete function");
var a=document.getElementById(this.scriptId);a&&document.body.removeChild(a);var b=this.getSrc(this.url,this.parameters);a=document.createElement("script"),a.id=this.scriptId,a.src=b,a.charset=this.charset,document.body.appendChild(a)},getSrc:function(a,b){if(!b)return a;if("string"==typeof b)return a+"?"+b;if("object"==typeof b){var c=a+"?";for(var d in b)c+=d+"="+b[d]+"&";return c}}},QR8bitByte.prototype={getLength:function(a){return this.data.length},write:function(a){for(var b=0;b<this.data.length;b++)a.put(this.data.charCodeAt(b),8)}},QRCode.prototype={addData:function(a){var b=new QR8bitByte(a);this.dataList.push(b),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var a=1;for(a=1;40>a;a++){for(var b=QRRSBlock.getRSBlocks(a,this.errorCorrectLevel),c=new QRBitBuffer,d=0,e=0;e<b.length;e++)d+=b[e].dataCount;for(var e=0;e<this.dataList.length;e++){var f=this.dataList[e];c.put(f.mode,4),c.put(f.getLength(),QRUtil.getLengthInBits(f.mode,a)),f.write(c)}if(c.getLengthInBits()<=8*d)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var c=0;c<this.moduleCount;c++){this.modules[c]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[c][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,b),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?this.modules[a+c][b+d]=!0:this.modules[a+c][b+d]=!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=QRUtil.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=b%2==0)},setupPositionAdjustPattern:function(){for(var a=QRUtil.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)-2==f||2==f||-2==g||2==g||0==f&&0==g?this.modules[d+f][e+g]=!0:this.modules[d+f][e+g]=!1}},setupTypeNumber:function(a){for(var b=QRUtil.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=QRUtil.getBCHTypeInfo(c),e=0;15>e;e++){var f=!a&&1==(d>>e&1);6>e?this.modules[e][8]=f:8>e?this.modules[e+1][8]=f:this.modules[this.moduleCount-15+e][8]=f}for(var e=0;15>e;e++){var f=!a&&1==(d>>e&1);8>e?this.modules[8][this.moduleCount-e-1]=f:9>e?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var i=!1;f<a.length&&(i=1==(a[f]>>>e&1));var j=QRUtil.getMask(b,d,g-h);j&&(i=!i),this.modules[d][g-h]=i,e--,-1==e&&(f++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(a,b,c){for(var d=QRRSBlock.getRSBlocks(a,b),e=new QRBitBuffer,f=0;f<c.length;f++){var g=c[f];e.put(g.mode,4),e.put(g.getLength(),QRUtil.getLengthInBits(g.mode,a)),g.write(e)}for(var h=0,f=0;f<d.length;f++)h+=d[f].dataCount;if(e.getLengthInBits()>8*h)throw new Error("code length overflow. ("+e.getLengthInBits()+">"+8*h+")");for(e.getLengthInBits()+4<=8*h&&e.put(0,4);e.getLengthInBits()%8!=0;)e.putBit(!1);for(;;){if(e.getLengthInBits()>=8*h)break;if(e.put(QRCode.PAD0,8),e.getLengthInBits()>=8*h)break;e.put(QRCode.PAD1,8)}return QRCode.createBytes(e,d)},QRCode.createBytes=function(a,b){for(var c=0,d=0,e=0,f=new Array(b.length),g=new Array(b.length),h=0;h<b.length;h++){var i=b[h].dataCount,j=b[h].totalCount-i;d=Math.max(d,i),e=Math.max(e,j),f[h]=new Array(i);for(var k=0;k<f[h].length;k++)f[h][k]=255&a.buffer[k+c];c+=i;var l=QRUtil.getErrorCorrectPolynomial(j),m=new QRPolynomial(f[h],l.getLength()-1),n=m.mod(l);g[h]=new Array(l.getLength()-1);for(var k=0;k<g[h].length;k++){var o=k+n.getLength()-g[h].length;g[h][k]=o>=0?n.get(o):0}}for(var p=0,k=0;k<b.length;k++)p+=b[k].totalCount;for(var q=new Array(p),r=0,k=0;d>k;k++)for(var h=0;h<b.length;h++)k<f[h].length&&(q[r++]=f[h][k]);for(var k=0;e>k;k++)for(var h=0;h<b.length;h++)k<g[h].length&&(q[r++]=g[h][k]);return q};for(var QRMode={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},QRErrorCorrectLevel={L:1,M:0,Q:3,H:2},QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)b^=QRUtil.G15<<QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G15);return(a<<10|b)^QRUtil.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)b^=QRUtil.G18<<QRUtil.getBCHDigit(b)-QRUtil.getBCHDigit(QRUtil.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return QRUtil.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case QRMaskPattern.PATTERN000:return(b+c)%2==0;case QRMaskPattern.PATTERN001:return b%2==0;case QRMaskPattern.PATTERN010:return c%3==0;case QRMaskPattern.PATTERN011:return(b+c)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(b/2)+Math.floor(c/3))%2==0;case QRMaskPattern.PATTERN101:return b*c%2+b*c%3==0;case QRMaskPattern.PATTERN110:return(b*c%2+b*c%3)%2==0;case QRMaskPattern.PATTERN111:return(b*c%3+(b+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new QRPolynomial([1],0),c=0;a>c;c++)b=b.multiply(new QRPolynomial([1,QRMath.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},QRMath={glog:function(a){if(1>a)throw new Error("glog("+a+")");return QRMath.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return QRMath.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;256>i;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;255>i;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;QRPolynomial.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var d=0;d<a.getLength();d++)b[c+d]^=QRMath.gexp(QRMath.glog(this.get(c))+QRMath.glog(a.get(d)));return new QRPolynomial(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=QRMath.glog(this.get(0))-QRMath.glog(a.get(0)),c=new Array(this.getLength()),d=0;d<this.getLength();d++)c[d]=this.get(d);for(var d=0;d<a.getLength();d++)c[d]^=QRMath.gexp(QRMath.glog(a.get(d))+b);return new QRPolynomial(c,0).mod(a)}},QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(a,b){var c=QRRSBlock.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,e=new Array,f=0;d>f;f++)for(var g=c[3*f+0],h=c[3*f+1],i=c[3*f+2],j=0;g>j;j++)e.push(new QRRSBlock(h,i));return e},QRRSBlock.getRsBlockTable=function(a,b){switch(b){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[4*(a-1)+3];default:return}},QRBitBuffer.prototype={get:function(a){var b=Math.floor(a/8);return 1==(this.buffer[b]>>>7-a%8&1)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}},function(a){a.extend({qrcode:function(b){"string"==typeof b&&(b={text:b}),b=a.extend({},{render:"image",width:256,height:256,typeNumber:-1,correctLevel:QRErrorCorrectLevel.H,background:"#ffffff",foreground:"#000000"},b);var c,d=function(){var a=new QRCode(b.typeNumber,b.correctLevel);a.addData(b.text),a.make();var c=document.createElement("canvas");c.width=b.width,c.height=b.height;for(var d=c.getContext("2d"),e=b.width/a.getModuleCount(),f=b.height/a.getModuleCount(),g=0;g<a.getModuleCount();g++)for(var h=0;h<a.getModuleCount();h++){d.fillStyle=a.isDark(g,h)?b.foreground:b.background;var i=Math.ceil((h+1)*e)-Math.floor(h*e),j=Math.ceil((g+1)*e)-Math.floor(g*e);d.fillRect(Math.round(h*e),Math.round(g*f),i,j)}return c},e=function(){var c=new QRCode(b.typeNumber,b.correctLevel);c.addData(b.text),c.make();var d=b.width/c.getModuleCount();d=Math.floor(d+.5),d*c.getModuleCount()>b.width&&(d-=1);var e=b.height/c.getModuleCount();e=Math.floor(e+.5),e*c.getModuleCount()>b.height&&(e-=1);for(var f=a("<table></table>").css("width",d*c.getModuleCount()+"px").css("height",e*c.getModuleCount()+"px").css("border","0px").css("border-collapse","collapse").css("background-color",b.background),g=0;g<c.getModuleCount();g++)for(var h=a("<tr></tr>").css("height",e+"px").appendTo(f),i=0;i<c.getModuleCount();i++)a("<td></td>").css("width",d+"px").css("background-color",c.isDark(g,i)?b.foreground:b.background).appendTo(h);return f},f=function(){var a=new Array,b={};return b.writeByte=function(b){a.push(255&b)},b.writeShort=function(a){b.writeByte(a),b.writeByte(a>>>8)},b.writeBytes=function(a,c,d){c=c||0,d=d||a.length;for(var e=0;d>e;e+=1)b.writeByte(a[e+c])},b.writeString=function(a){for(var c=0;c<a.length;c+=1)b.writeByte(a.charCodeAt(c))},b.toByteArray=function(){return a},b.toString=function(){var b="";b+="[";for(var c=0;c<a.length;c+=1)c>0&&(b+=","),b+=a[c];return b+="]"},b},g=function(){var a=0,b=0,c=0,d="",e={},f=function(a){d+=String.fromCharCode(g(63&a))},g=function(a){if(0>a);else{if(26>a)return 65+a;if(52>a)return 97+(a-26);if(62>a)return 48+(a-52);if(62==a)return 43;if(63==a)return 47}throw new Error("n:"+a)};return e.writeByte=function(d){for(a=a<<8|255&d,b+=8,c+=1;b>=6;)f(a>>>b-6),b-=6},e.flush=function(){if(b>0&&(f(a<<6-b),a=0,b=0),c%3!=0)for(var e=3-c%3,g=0;e>g;g+=1)d+="="},e.toString=function(){return d},e},h=function(a,b){var c=a,d=b,e=new Array(a*b),g={};g.setPixel=function(a,b,d){e[b*c+a]=d},g.write=function(a){a.writeString("GIF87a"),a.writeShort(c),a.writeShort(d),a.writeByte(128),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(255),a.writeByte(255),a.writeByte(255),a.writeString(","),a.writeShort(0),a.writeShort(0),a.writeShort(c),a.writeShort(d),a.writeByte(0);var b=2,e=i(b);a.writeByte(b);for(var f=0;e.length-f>255;)a.writeByte(255),a.writeBytes(e,f,255),f+=255;a.writeByte(e.length-f),a.writeBytes(e,f,e.length-f),a.writeByte(0),a.writeString(";")};var h=function(a){var b=a,c=0,d=0,e={};return e.write=function(a,e){if(a>>>e!=0)throw new Error("length over");for(;c+e>=8;)b.writeByte(255&(a<<c|d)),e-=8-c,a>>>=8-c,d=0,c=0;d=a<<c|d,c+=e},e.flush=function(){c>0&&b.writeByte(d)},e},i=function(a){for(var b=1<<a,c=(1<<a)+1,d=a+1,g=j(),i=0;b>i;i+=1)g.add(String.fromCharCode(i));g.add(String.fromCharCode(b)),g.add(String.fromCharCode(c));var k=f(),l=h(k);l.write(b,d);var m=0,n=String.fromCharCode(e[m]);for(m+=1;m<e.length;){var o=String.fromCharCode(e[m]);m+=1,g.contains(n+o)?n+=o:(l.write(g.indexOf(n),d),g.size()<4095&&(g.size()==1<<d&&(d+=1),g.add(n+o)),n=o)}return l.write(g.indexOf(n),d),l.write(c,d),l.flush(),k.toByteArray()},j=function(){var a={},b=0,c={};return c.add=function(d){if(c.contains(d))throw new Error("dup key:"+d);a[d]=b,b+=1},c.size=function(){return b},c.indexOf=function(b){return a[b]},c.contains=function(b){return"undefined"!=typeof a[b]},c};return g},i=function(){var a=new QRCode(b.typeNumber,b.correctLevel);a.addData(b.text),a.make();for(var c=b.width,d=b.height,e=c/a.getModuleCount(),i=d/a.getModuleCount(),j=function(b,c){var d=Math.floor(c/i),f=Math.floor(b/e);return a.isDark(d,f)?0:1},k=h(c,d),l=0;d>l;l++)for(var m=0;c>m;m++)k.setPixel(m,l,j(m,l));var n=f();k.write(n);for(var o=g(),p=n.toByteArray(),q=0;q<p.length;q+=1)o.writeByte(p[q]);o.flush();var r="";return r+="<img",r+=' src="',r+="data:image/gif;base64,",r+=o,r+='"',r+=' width="',r+=c,r+='"',r+=' height="',r+=d,r+='"',r+="/>"};switch(b.render){case"image":c=i();break;case"canvas":c=d();break;case"table":c=e();break;default:c=i()}return c}})}(jQuery);var gImgDetailObj;$(function(){function ViewPort(){this.viewSize={width:$.utils.getViewWidth(),height:$.utils.getViewHeight()},this.constant=$.Constant,this.main=$("#main"),this.wrap=$("#wrap"),"undefined"==typeof ViewPort._initialized&&($.extend(ViewPort.prototype,{init:function(a,b,c,d){this.imgDetail=a,this.aside=b,this.botViewList=c,this.toolBar=d,this.resize(!0);var e=this;$(window).bind("resize",function(){e.resize()}),$(document).bind("click",function(){e.toolBar.hideSaveToMobile()});var f=function(a){e.mousescroll(a)};document.addEventListener&&document.addEventListener("DOMMouseScroll",f,!1),window.onmousewheel=document.onmousewheel=f},resetSize:function(){var a=this.viewSize.height-this.constant.headHeight-this.constant.contentBorder-1;this.main.css("height",a),this.imgDetail.resize(this.viewSize.width,this.viewSize.height),this.aside.resize(this.viewSize.width,this.viewSize.height),this.botViewList.resize(this.viewSize.width,this.viewSize.height)},resize:function(a){var b=$.utils.getViewWidth(),c=$.utils.getViewHeight();(this.viewSize.width!=b||this.viewSize.height!=c||a)&&(this.viewSize.width=b<this.constant.minWidth?this.constant.minWidth:b,this.viewSize.height=c<this.constant.minHeight?this.constant.minHeight:c,b<this.constant.minWidth?this.wrap.css("width",this.constant.minWidth):this.wrap.css("width","auto"),c<this.constant.minHeight?this.wrap.css("height",this.constant.minHeight):this.wrap.css("height","auto"),this.resetSize())},mousescroll:function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;var b=0;a.wheelDelta?b+=a.wheelDelta:a.detail&&(b-=a.detail),this.botViewList.isInBotViewList&&!this.imgDetail.isInImgDetail?($.utils.preventDefault(a),this.botViewList.mousescroll(b)):!this.botViewList.isInBotViewList&&this.imgDetail.isInImgDetail&&(this.imgDetail.isDraggable?($.utils.preventDefault(a),this.imgDetail.zoomImg(.1,b,"mousescroll")):($.utils.preventDefault(a),this.imgDetail.mousescroll(b)))}}),ViewPort._initialized=!0)}function ImgDetail(){this.constant=$.Constant,this.viewArea=$("#viewArea"),this.thumbBox=$("#thumbBox"),this.imageBox=$("#imageBox"),this.circleBox=$("#circleBox"),this.shituBtn=$("#shituBtn"),this.thumbContainer=$("#thumbContainer"),this.btnPgLft=$("#btnPgLft"),this.btnPgRgt=$("#btnPgRgt"),this.btnWindowsizeTxt=$("#btnWindowsizeTxt"),this.btnMagnify=$("#btnMagnify"),this.btnReduce=$("#btnReduce"),this.oriSizeBtn=$("#oriSize"),this.isInImgDetail=!1,this.currentState=$.CurrentState,this.dataManager=$.DataManager,this.data=$.DataManager.data,this.changePicTimeout=null,this.isDraggable=!1,this.imgCache=[null,null,null,null,null,null],this.cacheLen=6,this.currentImgIndex=0,this.sysCurrTime=(new Date).getTime(),this.isFirstTime=!0,"undefined"==typeof ImgDetail._initialized&&($.extend(ImgDetail.prototype,{init:function(a,b,c){this.botViewList=a,this.toolBar=b,this.aside=c;var d=this;this.thumbBox.bind("mouseenter",function(){d.isInImgDetail=!0}).bind("mouseleave",function(){d.isInImgDetail=!1}).bind("click",function(a){d.enterPageUrl(a)}),this.btnPgLft.bind("click",function(){var a=d.currentState.did,b=d.currentState.zutuIndex;return d.changeOnePic(a,b,-1,"leftclick"),!1}),this.btnPgRgt.bind("click",function(){var a=(d.currentState.did,d.currentState.did),b=d.currentState.zutuIndex;return d.changeOnePic(a,b,1,"rightclick"),!1}),$(document).bind("keydown",function(a){var b=a.keyCode,c=(d.currentState.did,d.currentState.did),e=d.currentState.zutuIndex;switch((37==b||38==b||39==b||40==b)&&(a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,$.utils.preventDefault(a)),b){case 38:d.changeOnePic(c,e,-1,"keypress_s");break;case 40:d.changeOnePic(c,e,1,"keypress_x");break;case 37:d.changeOnePic(c,e,-1,"keypress_z");break;case 39:d.changeOnePic(c,e,1,"keypress_y")}}),this.btnReduce.bind("click",function(){d.isDraggable||(d.thumbBox.find("img:first").draggable(),d.isDraggable=!0),d.zoomImg(.25,-1,"click"),d.oriSizeBtn.hasClass("btn_option_unclick")&&d.oriSizeBtn.removeClass("btn_option_unclick")}),this.btnMagnify.bind("click",function(){d.isDraggable||(d.thumbBox.find("img:first").draggable(),d.isDraggable=!0),d.zoomImg(.25,1,"click"),d.oriSizeBtn.hasClass("btn_option_unclick")&&d.oriSizeBtn.removeClass("btn_option_unclick")}),this.oriSizeBtn.bind("click",function(){d.isDraggable||(d.thumbBox.find("img:first").draggable(),d.isDraggable=!0),'原始尺寸<em class="original_icon"></em>'==d.oriSizeBtn.html()?(d.zoomImgFull(),d.oriSizeBtn.html('合适尺寸<em class="original_icon"></em>')):(d.changePic(d.currentState.did,d.currentState.did,d.currentState.zutuIndex,d.currentState.zutuIndex,""),d.oriSizeBtn.html('原始尺寸<em class="original_icon"></em>')),uigsPB("oriSize")}),this.shituBtn.on("click",function(){var a=d.imageBox.find("img:first").attr("src");location.href="http://pic.sogou.com/ris?flag=1&from=pic_detail&query="+encodeURIComponent(a)}),this.shituBtn.on("mouseenter",function(){d.thumbBox.find(".circle").hide()})},resize:function(a,b){var c=a-this.constant.asideWidth,d=b-this.constant.headHeight-this.constant.contentBorder-this.constant.toolBarHeight-(this.botViewList.isShowBot?this.constant.viewListHeight:0)-20;this.currentState.isIE6&&(c-=100),this.thumbBox.css({width:c,height:d}),this.thumbContainer.css({width:c,height:d}),this.btnPgLft.css({height:d+30}),this.btnPgRgt.css({height:d+30});var e=this.thumbBox.find("img").first();if(e.length>0&&!this.isDraggable){var f=this.currentState.did,g=this.currentState.zutuIndex,h=this.data[f];if(h){h.groupsize>=4&&this.dataManager.grpData[f]&&this.dataManager.grpData[f].data[g]&&(h=this.dataManager.grpData[f].data[g]);var i=$.utils.zoomImg(c-2*this.constant.detailButtonWidth,d,h.width,h.height);e.attr({width:i.width,height:i.height}),this.btnWindowsizeTxt.html(parseInt(100*i.width/h.width)+"%");var j=c-(c-i.width)/2-100+19,k=(d-i.height)/2-8;this.circleBox.css({top:k+"px",left:j+"px"})}}this.detailWidth=c,this.detailHeight=d},mousescroll:function(a){var b=this.currentState.did,c=this.currentState.zutuIndex;this.changeOnePic(b,c,a>0?-1:0>a?1:0,"mousescroll")},enterPageUrl:function(a){if(a.srcElement&&("IMG"==a.srcElement.nodeName||"img"==a.srcElement.nodeName)||a.target&&("IMG"==a.target.nodeName||"img"==a.target.nodeName)){var b=this.currentState.did,c=this.currentState.zutuIndex,d=this.data[b];d&&!d.isNav&&(d.groupsize>=4&&this.dataManager.grpData[b]&&this.dataManager.grpData[b].data.length>0&&c>=0&&c<this.dataManager.grpData[b].data.length&&(d=this.dataManager.grpData[b].data[c]),uigsPB("enteroripage_"+d.page_url),window.open(d.page_url))}},changeOnePic:function(a,b,c,d){var e=a;if(1==c)if(this.data[a].groupsize<4){if(e++,e>=this.dataManager.options.maxPn)return;this.changePic(a,e,this.currentState.zutuIndex,this.data[e].groupsize<4?-1:0,d)}else if(this.currentState.zutuIndex<this.dataManager.grpData[a].data.length-1)this.changePic(a,a,this.currentState.zutuIndex,this.currentState.zutuIndex+1,d);else{if(e++,e>=this.dataManager.options.maxPn)return;this.changePic(a,e,this.currentState.zutuIndex,this.data[e].groupsize<4?-1:0,d)}else if(-1==c)if(this.data[a].groupsize<4){if(e--,0>e)return;this.changePic(a,e,this.currentState.zutuIndex,this.data[e].groupsize<4?-1:0,d)}else if(this.currentState.zutuIndex>0)this.changePic(a,a,this.currentState.zutuIndex,this.currentState.zutuIndex-1,d);else{if(e--,0>e)return;this.changePic(a,e,this.currentState.zutuIndex,0),d}"mousescroll"==d||"rightclick"==d||"leftclick"==d?this.currentState.fanyeTimes++:this.currentState.fanyeTimes=0,3==this.currentState.fanyeTimes&&this.botViewList.isShowBot&&this.botViewList.botToggle()},changePic:function(a,b,c,d,e){var f=this;if(clearTimeout(this.changePicTimeout),this.isDraggable&&(this.thumbBox.find("img:first").draggable("destroy"),this.isDraggable=!1),this.data[b].groupsize>=4&&!this.dataManager.zutuIsReady(b))return this.dataManager.zutuHasNotBuffer(b)&&this.dataManager.getZutuByDid(b,!0),void(this.changePicTimeout=setTimeout(function(){f.changePic(a,b,c,d,e)},40));if(!(0>b||b>this.dataManager.options.maxPn-1||0==b&&this.data[b].groupsize>=4&&0>d||b==this.dataManager.options.maxPn-1&&this.data[b].groupsize>=4&&d>=this.dataManager.grpData[b].data.length)){var g=null,h=!1;if(this.data[b].groupsize>=4&&d>-1?(g=this.dataManager.grpData[b].data[d],g?h=!0:(g=this.data[b],d=-1)):g=this.data[b],this.changeBigPic(g,a,b,d,h),0>=b&&0>=d?this.btnPgLft.hide():this.btnPgLft.show(),b>=this.dataManager.options.maxPn-1&&(this.data[b].groupsize<4||this.data[b].groupsize>=4&&d>=this.dataManager.grpData[b].data.length-1)?this.btnPgRgt.hide():this.btnPgRgt.show(),this.aside.renderImageInfo(g),this.botViewList.changePic(a,b,c,d),location.href=this.currentState.urlPrefix+"#did"+b+(0>=d?"":"_"+d),this.currentState.did=b,this.currentState.zutuIndex=d,this.toolBar.hideSaveToMobile(),e){var i="changepic_"+e+"_"+b;d>-1&&(i+="_"+d),uigsPB(i)}setCurDisplayImg(),document.title=$.DataManager.query+"-搜狗图片搜索"}},zoomImg:function(a,b,c){var d=this.thumbBox.find("img:first"),e=d.width(),f=(d.height(),null),g=this.currentState.did;f=this.data[g].groupsize>=4&&this.dataManager.grpData[g].data.length>0?this.dataManager.grpData[g].data[this.currentState.zutuIndex]:this.data[g];var h=f.width,i=f.height,j=(parseInt(e/h*100),a);b>0?(j=1+j,c&&uigsPB("zoom_"+c+"_magnify")):0>b&&(j=1-j,c&&uigsPB("zoom_"+c+"_reduce"));var k=e*j,l=k/h*100;10>l?l=10:l>1e3&&(l=1e3),d.attr({width:h*l/100,height:i*l/100}),this.btnWindowsizeTxt.html(parseInt(l)+"%")},zoomImgFull:function(){var a=this.thumbBox.find("img:first"),b=null,c=this.currentState.did;b=this.data[c].groupsize>=4&&this.dataManager.grpData[c].data.length>0?this.dataManager.grpData[c].data[this.currentState.zutuIndex]:this.data[c];var d=b.width,e=b.height;a.attr({width:d,height:e}),this.btnWindowsizeTxt.html("100%")},changeBigPic:function(a,b,c,d,e){this.isFirstTime?this.isFirstTime=!1:this.pbPicState(),this.removeExpireCacheImg(b,c),this.cacheNextImg(c);var f=$.utils.zoomImg(this.detailWidth-2*this.constant.detailButtonWidth,this.detailHeight,a.width,a.height);e?this.imgCache[this.currentImgIndex].grp&&this.imgCache[this.currentImgIndex].grp[d]&&"success"==this.imgCache[this.currentImgIndex].grp[d].status?(this.imageBox.empty().append(this.imgCache[this.currentImgIndex].grp[d].img.attr({width:f.width,height:f.height,title:"点击查看源网页"})),this.isDraggable=!1):this.imageBox.empty().append('<img title="点击查看源网页" src="'+a.thumbUrl+'" width="'+f.width+'" height="'+f.height+'" />'):this.imgCache[this.currentImgIndex]&&"success"==this.imgCache[this.currentImgIndex].status?(this.imageBox.empty().append(this.imgCache[this.currentImgIndex].img.attr({width:f.width,height:f.height,title:"点击查看源网页"})),this.isDraggable=!1):this.imageBox.empty().append('<img title="点击查看源网页" src="'+a.thumbUrl+'" width="'+f.width+'" height="'+f.height+'" />');var g=parseInt(f.width/a.width*100);this.btnWindowsizeTxt.html(g+"%"),100!=g||this.oriSizeBtn.hasClass("btn_option_unclick")||this.oriSizeBtn.addClass("btn_option_unclick"),100!=g&&this.oriSizeBtn.hasClass("btn_option_unclick")&&this.oriSizeBtn.removeClass("btn_option_unclick");var h=this.detailWidth-(this.detailWidth-f.width)/2-100+19,i=(this.detailHeight-f.height)/2-8;this.circleBox.css({top:i+"px",left:h+"px"});var j;e?this.imgCache[this.currentImgIndex].grp&&(j=this.imgCache[this.currentImgIndex].grp[d]):j=this.imgCache[this.currentImgIndex];try{if(j){var k="";switch(j.status){case"success":k="lt=success|"+a.pic_url+"|"+(j.end-j.begin)+"|"+a.width+"|"+a.height+"|"+j.img[0].width+"|"+j.img[0].height+"|"+a.page_url;break;case"error":k="lt=error|'"+a.pic_url+"'|"+(j.end-j.begin)+"|"+a.width+"|"+a.height+"|"+j.img[0].width+"|"+j.img[0].height+"|'"+a.page_url+"'|"+c;break;case"daolian":k="lt=daolian|'"+a.pic_url+"'|"+a.width+"|"+a.height+"|"+j.img[0].width+"|"+j.img[0].height+"|"+c}""!=k&&uigsPB(k)}}catch(l){}},pbPicState:function(){var a=this.currentState.did,b=this.currentState.zutuIndex,c=null;c=this.data[a].groupsize>=4&&this.dataManager.grpData[a].data&&this.dataManager.grpData[a].data.length>0?this.imgCache[this.currentImgIndex].grp[b]:this.imgCache[this.currentImgIndex];var d=(new Date).getTime();if(c){var e="lt_pic="+c.status+"-"+(d-this.sysCurrTime)+"-"+this.data[a].pic_url+"-"+a;uigsPB(e)}this.sysCurrTime=d},removeExpireCacheImg:function(a,b){if(a>=0&&a!=b){var c=b-a,d=(this.currentImgIndex+c)%this.cacheLen;d=0>d?d+this.cacheLen:d;var e=Math.abs(c);if(e>=this.cacheLen)for(var f=0;f<this.cacheLen;f++)this.imgCache[f]=null;else for(var g=0>c?d:this.currentImgIndex,h=0;e>h;h++)this.imgCache[(g+h)%this.cacheLen]=null;this.currentImgIndex=d}},cacheNextImg:function(a){for(var b=this,c=0;c<this.cacheLen;c++){var d=a+c,e=(this.currentImgIndex+c)%this.cacheLen;if(!this.imgCache[e]&&this.data[d]&&!function(a,c){b.imgCache[c]={status:"loading",begin:(new Date).getTime(),did:a},$.imgpreload(b.data[a].pic_url,{each:function(){var d=$(this).data("loaded")?"success":"error",e=b.data[a];"success"!=d||this.width==e.width&&this.height==e.height||(d="daolian");var f=b.imgCache[c];if(f&&f.did==a&&!f.grp&&(f.img=$(this),f.status=d,f.end=(new Date).getTime(),b.currentState.did==a)){if("success"==d){var g=b.data[a],h=$.utils.zoomImg(b.detailWidth-2*b.constant.detailButtonWidth,b.detailHeight,g.width,g.height);b.imageBox.empty().append(b.imgCache[b.currentImgIndex].img.attr({width:h.width,height:h.height,
title:"点击查看源网页"})),b.isDraggable=!1}var i="";switch(d){case"success":i="lt=success|"+e.pic_url+"|"+(f.end-f.begin)+"|"+e.width+"|"+e.height+"|"+this.width+"|"+this.height+"|"+e.page_url;break;case"error":i="lt=error|'"+e.pic_url+"'|"+(f.end-f.begin)+"|"+e.width+"|"+e.height+"|"+this.width+"|"+this.height+"|'"+e.page_url+"'|"+a;break;case"daolian":i="lt=daolian|'"+e.pic_url+"'|"+e.width+"|"+e.height+"|"+this.width+"|"+this.height+"|"+a}""!=i&&uigsPB(i)}}})}(d,e),this.data[d]&&this.imgCache[e]&&this.data[d].groupsize>=4&&!this.imgCache[e].grp&&this.dataManager.grpData[d]&&this.dataManager.grpData[d].data.length>0)for(var f=this.dataManager.grpData[d].data.length,g=0;f>g;g++)!function(a,c,d){b.imgCache[d]||(b.imgCache[d]={status:"loading",begin:(new Date).getTime(),did:a}),b.imgCache[d].grp||(b.imgCache[d].grp=[]),b.imgCache[d].grp[c]={status:"loading",begin:(new Date).getTime(),did:a,zutuIndex:c},$.imgpreload(b.dataManager.grpData[a].data[c].pic_url,{each:function(){var e=$(this).data("loaded")?"success":"error",f=b.dataManager.grpData[a].data[c];if("success"!=e||0==this.width||0==this.height||this.width==f.width&&this.height==f.height||(e="daolian"),b.imgCache[d]&&b.imgCache[d].did==a){var g=b.imgCache[d].grp[c];if(g.did==a&&g.zutuIndex==c&&(g.img=$(this),g.status=e,g.end=(new Date).getTime(),b.currentState.did==a&&b.currentState.zutuIndex==c)){if("success"==e){var h=b.dataManager.grpData[a].data[c],i=$.utils.zoomImg(b.detailWidth-2*b.constant.detailButtonWidth,b.detailHeight,h.width,h.height);b.imageBox.empty().append(b.imgCache[d].grp[c].img.attr({width:i.width,height:i.height,title:"点击查看源网页"})),b.isDraggable=!1}var j="";switch(e){case"success":j="lt=success|"+f.pic_url+"|"+(g.end-g.begin)+"|"+f.width+"|"+f.height+"|"+this.width+"|"+this.height+"|"+f.page_url;break;case"error":j="lt=error|'"+f.pic_url+"'|"+(g.end-g.begin)+"|"+f.width+"|"+f.height+"|"+this.width+"|"+this.height+"|'"+f.page_url+"'|"+a;break;case"daolian":j="lt=daolian|'"+f.pic_url+"'|"+f.width+"|"+f.height+"|"+this.width+"|"+this.height+"|"+a}""!=j&&uigsPB(j)}}}})}(d,g,e)}}}),ImgDetail._initialized=!0)}function BotViewList(){this.constant=$.Constant,this.isShowBot=!0,this.isInBotViewList=!1,this.lock=!1,this.eTimeout=null,this.isMouseScroll=!1,this.botView=$("#botView"),this.btnHide=$("#btnHide"),this.viewList=$("#viewList"),this.viewListArea=$("#viewListArea"),this.thumbLBtn=$("#thumbLBtn"),this.thumbRBtn=$("#thumbRBtn"),this.currentState=$.CurrentState,this.dataManager=$.DataManager,this.data=$.DataManager.data,this.openGroupSize=0,"undefined"==typeof BotViewList._initialized&&($.extend(BotViewList.prototype,{init:function(a,b){var c=this;this.imgDetail=a,this.aside=b,this.btnHide.bind("click",function(a){c.botToggle.apply(c,[a])}),this.thumbLBtn.bind("click",function(){c.mousescroll(1)}),this.thumbRBtn.bind("click",function(){c.mousescroll(-1)}),this.viewListArea.bind("mouseenter",function(){c.isInBotViewList=!0}).bind("mouseleave",function(){c.isInBotViewList=!1}),this.eTimeout=setInterval(function(){c.effect()},50)},botToggle:function(a){try{a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}catch(a){}var b=this;this.isShowBot?(this.botView.animate({bottom:"-92px"},200,function(){b.botToggleAfter()}),this.botView.addClass("hide"),this.btnHide.html("展开<em></em>"),this.btnHide.attr("title","展开导航条"),this.isShowBot=!1,uigsPB("hidebot")):(this.viewList.find("img").each(function(a,b){var c=$(b).attr("rsrc");c&&($(b).attr("src",c),$(b).removeAttr("rsrc"))}),this.botView.animate({bottom:"-0px"},200),this.botView.removeClass("hide"),this.btnHide.html("收起<em></em>"),this.btnHide.attr("title","收起导航条"),this.isShowBot=!0,uigsPB("showbot"),b.botToggleAfter())},botToggleAfter:function(){var a=$.utils.getViewWidth(),b=$.utils.getViewHeight();a=a<this.constant.minWidth?this.constant.minWidth:a,b=b<this.constant.minHeight?this.constant.minHeight:b,this.imgDetail.resize(a,b),this.aside.resize(a,b)},resize:function(a,b){this.currentState.isIE6&&this.botView.css({width:a-2}),this.viewWidth=a-this.constant.asideWidth-2*this.constant.thumbListSpan;var c=Math.ceil(this.viewWidth/(this.constant.thumbBlockWidth+this.constant.thumbBlockMargin));this.picNum=c;var d=Math.floor(this.picNum/2);this.midIndex=d>=1?d-1:0>d?0:d;var e=this,f=this.currentState.did,g=e.getFirstRenderIndex(f);e.data[g]||e.dataManager.getDataByDid(g,!1),e.data[f]||e.dataManager.getDataByDid(f,!1),g+e.picNum<e.dataManager.options.maxPn&&!e.data[g+e.picNum-1]&&e.dataManager.getDataByDid(g+e.picNum-1,!1),e.currentState.beginIndex=g;var h=e.currentState.zutuIndex;e.data[f].groupsize>=4&&0>h&&(e.currentState.zutuIndex=0,h=0),e.render(g,f),e.imgDetail.changePic(-1,f,-1,h)},getFirstRenderIndex:function(a){if(this.midIndex>=a)return 0;if(a-this.midIndex+this.picNum>this.dataManager.options.maxPn){var b=this.dataManager.options.maxPn-this.picNum;return 0>b&&(b=0),b}return a-this.midIndex},render:function(a,b){this.viewList.empty();for(var c=0;c<this.picNum&&a+c<this.dataManager.options.maxPn;c++){var d=a+c,e=this.data[d];if(null==e)break;this.viewList.append(this.renderItem(e,!1)),e.groupsize&&e.groupsize>=4&&this.dataManager.zutuHasNotBuffer(d)&&this.dataManager.getZutuByDid(d,!0)}c<this.picNum&&this.viewList.append(this.renderLastLi()),this.currentState.beginIndex=a,this.controlThumbBtn(),this.botView.show()},renderItem:function(a,b){var c=[];c.push('<li id="p'+a.rindex+'"'),b&&c.push(' class="focus" '),c.push(">"),c.push(this.renderItemWidthoutLi(a)),c.push("</li>");var d=this,e=$(c.join("")).bind("click",{did:a.rindex,self:d},d.clickLi);return e.bind("mouseenter",function(){$(this).hasClass("unfold_list")||$(this).addClass("ahover")}).bind("mouseleave",function(){$(this).hasClass("unfold_list")||$(this).removeClass("ahover")}),e},renderItemWidthoutLi:function(a){var b=[];return a.groupsize&&a.groupsize>=4&&(b.push('<span class="fold">'),b.push(a.groupsize),b.push("张</span>")),b.push('<a href="javascript:void(0)" hidefocus="true">'),b.push('<img onerror="imgOnError(this)" src="'),this.isShowBot?b.push(a.smallThumbUrl):b.push('http://img02.sogoucdn.com/app/a/07/2fb1e12f11c693eaa260652bd709e77f" rsrc="'+a.smallThumbUrl+'"'),b.push('" width="'),b.push(a.zoomThumbWidth),b.push('" height="'),b.push(a.zoomThumbHeight),b.push('" style="margin-top:'),b.push(a.zoomThumbTop),b.push("px;margin-left:"),b.push(a.zoomThumbLeft),b.push('px;"/>'),b.push("</a>"),"0"==uuid.substr(0,1)&&uigsPB("bottom_img_show_"+this.isShowBot),b.join("")},renderLastLi:function(){var a=[];return a.push("<li id='plast'><a href='javascript:void(0)' hidefocus='true'><img src=\"/detail2013/images/end/img_end.jpg\" style='height:64px;width:84px;margin-left:-10px;'></a></li>"),$(a.join(""))},renderGrpArea:function(a,b){var c=$("#p"+a).empty().unbind("click");0==c.length&&(c=$('<li id="p'+a+'" />')),c.addClass("unfold_list"),this.currentState.zutuBeginIndex=0;var d=this.dataManager.grpData[a].data.length;if(0>=d)return c.append(this.renderItemWidthoutLi(this.data[a])).bind("click",{did:a},this.clickLi),c;var e=[],d=this.dataManager.grpData[a].data.length,f=(this.constant.thumbBlockWidth+this.constant.thumbBlockMargin)*d+10;e.push('<div class="scroll_box" style="width:'),e.push(f),e.push('px"><ul class=" scroll_in clearfix" style="width:'+f+'px">');for(var g=0;d>g;g++){var h=this.dataManager.grpData[a].data[g];e.push(this.renderGrpItem(h,a,d))}e.push("</ul></div>");var i=this;return c.css("width","auto").append($(e.join(""))).find("ul li").each(function(c,e){d>c&&(c==b&&$(e).addClass("focus"),$(e).bind("click",{did:a,zutuIndex:c,self:i},i.clickLi),$(e).bind("mouseenter",function(){}).bind("mouseleave",function(){}))}),c},renderGrpItem:function(a,b,c){var d=[];return d.push('<li id="p'+b+"_"+a.rindex+'">'),d.push(this.renderGrpItemWidthoutLi(a,c)),d.push("</li>"),d.join("")},renderGrpItemWidthoutLi:function(a,b){var c=[];return c.push('<span class="fold">'+(a.rindex+1)+"/"+b+"</span>"),c.push('<a href="javascript:void(0)" >'),c.push('<img onerror="imgOnError(this)" src="'),c.push(a.thumbUrl),c.push('" width="'),c.push(a.zoomThumbWidth),c.push('" height="'),c.push(a.zoomThumbHeight),c.push('" style="margin-top:'),c.push(a.zoomThumbTop),c.push("px;margin-left:"),c.push(a.zoomThumbLeft),c.push('px"/></a>'),c.join("")},addLi:function(a,b){if(this.currentState.did==a&&this.data[a].groupsize>=4&&this.dataManager.grpData[a]&&this.dataManager.grpData[a].data.length>0){var c=this.renderGrpArea(a,b);return c}return this.renderItem(this.data[a],this.currentState.did==a)},changePic:function(a,b,c,d){var e=this.data[a],f=this.data[b];if(this.openGroupSize=f.groupsize,b>=0&&0==$("#p"+b).length){var g=this.getFirstRenderIndex(b);this.render(g,b),f.groupsize>=4&&this.renderGrpArea(b,0)}if((!e||e.groupsize<4)&&f.groupsize<4?(this.viewList.find("#p"+a).removeClass("focus"),this.viewList.find("#p"+b).addClass("focus")):(!e||e.groupsize<4)&&f.groupsize>=4?(this.viewList.find("#p"+a).removeClass("focus"),this.renderGrpArea(b,d).find("#p"+b+"_"+d).addClass("focus")):e.groupsize>=4&&(f.groupsize<4||3==this.dataManager.grpData[b].state)?(this.viewList.find("#p"+a).removeClass("unfold_list").empty().html(this.renderItemWidthoutLi(e)).bind("click",{did:a,self:this},this.clickLi),this.viewList.find("#p"+b).addClass("focus"),this.viewList.css("margin-left","0px")):e.groupsize>=4&&c>=0&&a==b?(this.viewList.find("#p"+a+"_"+c).removeClass("focus"),this.viewList.find("#p"+b+"_"+d).addClass("focus")):e.groupsize>=4&&f.groupsize>=4&&a!=b&&(this.viewList.find("#p"+a).removeClass("unfold_list").empty().html(this.renderItemWidthoutLi(e)).bind("click",{did:a,self:this},this.clickLi),this.viewList.css("margin-left","0px"),this.renderGrpArea(b,d).find("#p"+b+"_"+d).addClass("focus")),this.controlThumbBtn(),this.isMouseScroll){var h=this;this.isMouseScroll=!1,this.lock=!1,this.eTimeout=setInterval(function(){h.effect()},50)}},effect:function(){if(!this.lock){this.lock=!0;var a=this.currentState.did,b=this.currentState.zutuIndex,c=this.picNum,d=this.midIndex,e=d,f=this.data[a],g=this.currentState.beginIndex,h=g+c,i=a-g-e;f.groupsize>=4&&this.dataManager.grpData[a].data.length>0&&(e-=b,i=a-g-e);var j=i>0?1:0>i?-1:0;if(0==i||0>i&&0==g||h>this.dataManager.options.maxPn)return void(this.lock=!1);i=Math.abs(i);var k=this;1==j&&h<k.dataManager.options.maxPn?(k.data[h]||k.dataManager.getDataByDid(h,!1),h+12<k.dataManager.options.maxPn&&(k.data[h+12]||k.dataManager.getDataByDid(h+12,!0))):-1==j&&(k.data[g-1]||k.dataManager.getDataByDid(g-1,!1),g-12>=0&&(k.data[g-12]||k.dataManager.getDataByDid(g-12,!0))),a-g>e?(this.mousescroll(-1),k.dataManager.zutuHasNotBuffer(h)&&k.dataManager.getZutuByDid(h,!0)):e>a-g&&(this.mousescroll(1),k.dataManager.zutuHasNotBuffer(g-1)&&k.dataManager.getZutuByDid(g-1,!0))}},mousescroll:function(a){if(clearInterval(this.eTimeout),this.isMouseScroll=!0,0>a){var b=this.currentState.beginIndex+this.picNum;if(b<=this.dataManager.options.maxPn+this.openGroupSize){!this.data[b]&&b<this.dataManager.options.maxPn&&this.dataManager.getDataByDid(b,!1);var c=this,d=function(a){return function(){c.viewList.find("#p"+a).remove(),b<c.dataManager.options.maxPn?c.viewList.append(c.addLi(b,c.currentState.zutuIndex)):c.viewList.find("#plast").length<0&&c.viewList.append(c.renderLastLi())}}(this.currentState.beginIndex),e=this.viewList.children("li")[0];if(0==$(e).find("li").length)this.viewList.find("#p"+this.currentState.beginIndex).animate({width:0},24,d),this.currentState.beginIndex=this.currentState.beginIndex+1;else{var f=parseInt(this.viewList.css("margin-left").replace("px","")),g=this.data[this.currentState.beginIndex].groupsize;0-f<(g-1)*(this.constant.thumbBlockWidth+this.constant.thumbBlockMargin)+10?(0==f&&(f=-10),this.viewList.css("margin-left",f-this.constant.thumbBlockWidth-this.constant.thumbBlockMargin+"px")):(this.viewList.find("#p"+this.currentState.beginIndex).animate({width:0},24,d),this.currentState.beginIndex=this.currentState.beginIndex+1,this.viewList.css("margin-left","0px"))}uigsPB("botmousecroll_back"),b+12<this.dataManager.options.maxPn&&!this.dataManager.isReady(b+12)&&this.dataManager.isNotFetch(b+12)&&this.dataManager.getDataByDid(b+12,!0)}this.controlThumbBtn()}else if(a>0){var h=this.currentState.beginIndex-1;if(h>=0){this.data[h]||this.dataManager.getDataByDid(h,!1);var i=this.viewList.find("#p"+this.currentState.beginIndex);if(0==$(i).find("li").length){var j=this.addLi(h,this.currentState.zutuIndex);if(j.insertBefore(i),this.currentState.beginIndex=this.currentState.beginIndex-1,j.find("li").length>0){var g=this.data[this.currentState.beginIndex].groupsize,f=0-(g-1)*(this.constant.thumbBlockWidth+this.constant.thumbBlockMargin)-10;this.viewList.css("margin-left",f+"px")}}else{var f=parseInt(this.viewList.css("margin-left").replace("px","")),g=this.data[this.currentState.beginIndex].groupsize;-10>f?this.viewList.css("margin-left",f+this.constant.thumbBlockWidth+this.constant.thumbBlockMargin+"px"):(this.viewList.css("margin-left","0px"),this.addLi(h,this.currentState.zutuIndex).insertBefore(i),this.currentState.beginIndex=this.currentState.beginIndex-1)}this.viewList.find(">li:last").remove(),uigsPB("botmousecroll_forward"),h-12>=0&&!this.dataManager.isReady(h-12)&&this.dataManager.isNotFetch(h-12)&&this.dataManager.getDataByDid(h-12,!0)}this.controlThumbBtn()}},controlThumbBtn:function(){0!=this.currentState.beginIndex||this.thumbLBtn.hasClass("unclick-l")||this.thumbLBtn.addClass("unclick-l"),0!=this.currentState.beginIndex&&this.thumbLBtn.hasClass("unclick-l")&&this.thumbLBtn.removeClass("unclick-l"),this.currentState.beginIndex+this.picNum-this.openGroupSize>=this.dataManager.options.maxPn&&!this.thumbRBtn.hasClass("unclick-r")&&this.thumbRBtn.addClass("unclick-r"),this.currentState.beginIndex+this.picNum-this.openGroupSize<this.dataManager.options.maxPn&&this.thumbRBtn.hasClass("unclick-r")&&this.thumbRBtn.removeClass("unclick-r")},clickLi:function(a){var b=a.data.did,c=a.data.zutuIndex,d=a.data.self,e=!1;d.data[b].groupsize>=4&&(e=!0),e?d.imgDetail.changePic(d.currentState.did,b,d.currentState.zutuIndex,c?c:0,"thumbclick"):d.imgDetail.changePic(d.currentState.did,b,d.currentState.zutuIndex,-1,"thumbclick")}}),BotViewList._initialized=!0)}function Aside(){this.constant=$.Constant,this.asideDiv=$("#aside"),this.imageTitle=$("#imageTitle"),this.siteLink=$("#siteLink"),this.imageInfo=$("#imageInfo"),this.adBtn=$("#adBtn"),this.adDiv=$("#adDiv"),this.simBtn=$("#simBtn"),this.similarContent=$("#similarContent"),this.asBtn=$("#asBtn"),this.asContent=$("#asContent"),this.shopBtn=$("#shopBtn"),this.shopContent=$("#shopContent"),this.shopData=[],this.shopIndex=0,"undefined"==typeof Aside._initialized&&($.extend(Aside.prototype,{init:function(a){var b=this;this.botViewList=a,this.adBtn.bind("click",function(){b.adDiv.is(":visible")?(b.adDiv.slideUp(),b.adDiv.parent().addClass("shut")):(b.adDiv.slideDown(),b.adDiv.parent().removeClass("shut"))}),this.simBtn.bind("click",function(){b.similarContent.is(":visible")?(b.similarContent.slideUp(),b.similarContent.parent().addClass("shut")):(b.similarContent.slideDown(),b.similarContent.parent().removeClass("shut"))}),this.asBtn.bind("click",function(){b.asContent.is(":visible")?(b.asContent.slideUp(),b.asContent.parent().addClass("shut")):(b.asContent.slideDown(),b.asContent.parent().removeClass("shut"))}),this.asideDiv.find(".sidebar_box").each(function(a,b){$(b).bind("mouseenter",function(){$(this).addClass("sidebar_box_h")}),$(b).bind("mouseleave",function(){$(this).removeClass("sidebar_box_h")})})},resize:function(a,b){var c=b-$.Constant.headHeight;this.asideDiv.css("height",c)},renderImageInfo:function(a){if(a){if(this.imageTitle.html($.utils.highlightRedString($.trim(a.markedTitle))),a.page_url&&""!=a.page_url?this.imageTitle.attr("href",a.page_url):this.imageTitle.attr("href","javascript:void(0)"),a.page_url&&""!=a.page_url){var b=$.utils.getSite($.trim(a.page_url));this.siteLink.attr("href","http://"+b),this.siteLink.html(b),this.siteLink.show()}else this.siteLink.hide();var c=[];if(c.push("<span>"+a.width+"*"+a.height+"</span><em>|</em>"),c.push("<span>"+a.size+"</span><em>|</em>"),c.push("<span>"+$.utils.getPicExt(a.pic_url)+"</span>"),c.push('<a href="'+a.pic_url+'" uigs="vieworipic" target="_blank">查看原图</a>'),this.imageInfo.html(c.join("")),a.simdata&&a.simdata.length>0){c=[];for(var d=0;d<a.simdata.length;d++){var e=a.simdata[d],f=$.utils.zoomImgFull(84,84,e[1],e[2]),g="/d"+queryEncodeGbk+fatalParamList+fixedParamList+asfParamList+hiddenParaList+paras+"&phu="+e[0]+"&did="+(parseInt(e[3])+1);c.push('<li><a href="'+g+'"><img src="'+e[4]+'" width="'+f.width+'" height="'+f.height+'" style="width:'+f.width+"px;height:"+f.height+"px;margin-left:"+f.marginLeft+"px; margin-top:"+f.marginTop+'px;"></a></li>'),"0"==uuid.substr(0,1)&&uigsPB("bottom_img_show_similar")}this.similarContent.html(c.join("")),this.similarContent.parent().show()}else this.similarContent.parent().hide()}},showShopRecom:function(){var a="http://gouwu.sogou.com/hub?hub=apiJson&queryString="+$.CurrentState.searchConf.query+"&queryFrom=shopVr&queryType=query&parity="+uuid+"&cb=?",b=this;$.getJSON(a,function(a){try{a.item.display.subdoc.length>=4&&(b.shopData=a.item.display.subdoc,b.renderShopRecom())}catch(c){}})},renderShopRecom:function(){for(var a=[],b=0,c=this.shopData.length;4>b;){var d=this.shopData[this.shopIndex].subitem.subdisplay,e=d.url;-1==e.indexOf("gouwu.sogou.com")&&(e="http://gouwu.sogou.com/compare?query=-200&clf=3&cateid="+d.top_cate+"&adsUrl="+encodeURIComponent(d.url));var f=this.formatShopImage(d.thumbnails.thumbnail,10160006);a.push("<li>"),a.push('<a href="'+e+'" target="_blank" uigs="shop"><img src="'+f+'" width="125" height="125"></a>'),a.push("<p><span><s>￥</s>"+d.prices.price.value+"</span><em>"+d.short_name+"</em></p>"),a.push("</li>"),this.shopIndex=(this.shopIndex+1)%c,b++}this.shopContent.html(a.join("")),this.shopContent.parent().show()},formatShopImage:function(a,b){var c="";if(!a)return c;if(-1==a.indexOf("sogou.com"))return c="http://imgstore03.cdn.sogou.com/net/a/04/link?appid="+b+"&url="+encodeURIComponent(a);try{var d=a.indexOf("sogou.com"),e=a.indexOf("url=")+4;c=a.substring(0,d)+"sogou.com/net/a/04/link?appid="+b+"&url="+encodeURIComponent(a.substring(e))}catch(f){return c}return c}}),Aside._initialized=!0)}function ToolBar(){this.shareTimeout=null,this.shareBox=$("#shareBox"),this.shareArea=$("#shareArea"),this.saveToMobile=$("#saveToMobile"),this.saveToMobileBtn=$("#saveToMobileBtn"),this.weixinBtn=$("#weixinBtn"),this.weixinBox=$("#weixinBox"),this.feedbackBtn=$("#feedbackBtn"),this.feedbackDiv=$("#feedbackDiv"),this.feedbackOver=$("#feedbackOver"),this.feedbackContentValue="欢迎您提出在使用中遇到的问题或宝贵建议（400字以内），我们将为您做的更好 。",this.feedbackContent=$("#feedbackContent"),this.feedbackContactValue="请留下您的联系方式，以便我们及时回复您。",this.feedbackContact=$("#feedbackContact"),this.feedbackSubmit=$("#feedbackSubmit"),this.feedbackClose=$("#feedbackClose"),this.fullScreen=$("#fullScreen"),this.saveToPc=$("#saveToPc"),this.sohuShare=$("#sohuShare"),this.sinaShare=$("#sinaShare"),this.renrenShare=$("#renrenShare"),this.kongjianShare=$("#kongjianShare"),this.tencentShare=$("#tencentShare"),this.currentState=$.CurrentState,this.data=$.DataManager.data,this.grpData=$.DataManager.grpData,this.isIE=!!window.ActiveXObject,this.isIE6=this.isIE&&!window.XMLHttpRequest,this.isIE8=this.isIE&&!!document.documentMode,this.isIE7=this.isIE&&!this.isIE6&&!this.isIE8,"undefined"==typeof ToolBar._initialized&&($.extend(ToolBar.prototype,{feedbackClick:function(){this.feedbackDiv.is(":visible")?this.feedbackDiv.hide():(this.feedbackContent.val(this.feedbackContentValue),this.feedbackContact.val(this.feedbackContactValue),this.feedbackDiv.show(),uigsPB("feedBackClick"))},enterFullScreen:function(){picDetailObj&&picDetailObj.enterFullScreen&&picDetailObj.enterFullScreen()},shareEnter:function(){this.shareArea.show()},shareLeave:function(){var a=this;this.shareTimeout=setTimeout(function(){a.shareArea.hide()},100)},shareAreaEnter:function(){null!=this.shareTimeout&&clearTimeout(this.shareTimeout)},downloadToMobile:function(a){if(a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.saveToMobile.is(":visible"))return void this.saveToMobile.hide();var b=this.currentState.did,c=this.currentState.zutuIndex,d=this.data[b];d.groupsize>=4&&this.grpData[b].data&&this.grpData[b].data.length>0&&c>=0&&c<this.grpData[b].data.length&&(d=this.grpData[b].data[c]);var e=[];e.push('<em class="em-tip"></em>'),e.push("<p>用手机二维码扫描打开图片</p>"),this.isIE7||this.isIE6?e.push($.qrcode({render:"table",width:150,height:150,text:d.pic_url_noredirect,correctLevel:2})[0].outerHTML):e.push($.qrcode({render:"image",width:120,height:120,text:d.pic_url_noredirect,correctLevel:2})),e.push("<p>"+d.width+"&nbsp;X&nbsp;"+d.height+"&nbsp;&nbsp;&nbsp;&nbsp;"+d.size+"</p>"),this.saveToMobile.html(e.join("")),this.saveToMobile.is(":visible")||this.saveToMobile.show(),uigsPB("downloadtomobile")},hideSaveToMobile:function(){this.saveToMobile.is(":visible")&&this.saveToMobile.hide()},downloadToPc:function(){var a=this.currentState.did,b=this.currentState.zutuIndex,c=this.data[a];c.groupsize>=4&&this.grpData[a].data&&this.grpData[a].data.length>0&&b>=0&&b<this.grpData[a].data.length&&(c=this.grpData[a].data[b]);var d=Math.floor(4*Math.random())+1;location.href="http://imgstore0"+d+".cdn.sogou.com/v2/thumb/dl/"+c.docid+".jpg?appid=10150005&referer=sogou.com&url="+c.pic_url_noredirect,uigsPB("downloadtopc")},shareSNS:function(a){var b=a.data.type,c=this.currentState.did,d=this.currentState.zutuIndex,e=this.data[c];e.groupsize>=4&&this.grpData[c].data&&this.grpData[c].data.length>0&&d>=0&&d<this.grpData[c].data.length&&(e=this.grpData[c].data[d]);var f="%E6%9F%A5%E7%9C%8B%E9%AB%98%E6%B8%85%E5%A4%A7%E5%9B%BE%EF%BC%8C%E7%8C%9B%E5%87%BB%EF%BC%9A";switch(b){case"sohu":uigsPB("sohushare"),window.open("http://t.sohu.com/third/post.jsp?link="+encodeURIComponent(location.href)+"&title="+f+"&pic="+encodeURIComponent(e.pic_url));break;case"sina":uigsPB("sinashare"),window.open("http://service.weibo.com/share/share.php?appkey=3455933708&pic="+encodeURIComponent(e.pic_url)+"&url="+encodeURIComponent(location.href)+"&title="+f);break;case"renren":uigsPB("renrenshare"),window.open("http://share.renren.com/share/buttonshare/post/4001?url="+encodeURIComponent(location.href)+"&title="+f+"&content="+f+"&pic="+encodeURIComponent(e.pic_url));break;case"kongjian":uigsPB("kongjianshare"),window.open("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+f+"&url="+encodeURIComponent(location.href)+"&rpic="+encodeURIComponent(e.pic_url));break;case"tencent":uigsPB("tencentshare"),window.open("http://v.t.qq.com/share/share.php?&title="+f+"&url="+encodeURIComponent(location.href)+"&pic="+encodeURIComponent(e.pic_url)+"&appkey=dcba10cb2d574a48a16f24c9b6af610c")}this.shareBox.hasClass("on")&&this.shareBox.removeClass("on")}}),ToolBar._initialized=!0);var a=this;this.shareBox.bind("mouseenter",function(){a.shareEnter.apply(a)}).bind("mouseleave",function(){a.shareLeave.apply(a)}),this.shareArea.bind("mouseenter",function(){a.shareAreaEnter.apply(a)}),this.saveToMobileBtn.bind("click",function(b){a.downloadToMobile(b)}),this.saveToPc.bind("click",function(b){a.downloadToPc(b)}),this.fullScreen.bind("click",function(b){a.enterFullScreen()}),this.sohuShare.bind("click",{type:"sohu"},function(b){a.shareSNS(b)}),this.sinaShare.bind("click",{type:"sina"},function(b){a.shareSNS(b)}),this.renrenShare.bind("click",{type:"renren"},function(b){a.shareSNS(b)}),this.kongjianShare.bind("click",{type:"kongjian"},function(b){a.shareSNS(b)}),this.tencentShare.bind("click",{type:"tencent"},function(b){a.shareSNS(b)}),this.feedbackBtn.bind("click",function(b){a.feedbackClick(b)}),this.weixinBtn.bind("mouseenter",function(b){a.weixinBox.find("img").attr("src","/detail_2015_b/images/cd.gif"),a.weixinBox.show(),uigsPB("weixin_show")}).bind("mouseleave",function(b){a.weixinBox.hide()}),this.feedbackContent.bind("click",function(){this.value==a.feedbackContentValue&&(this.value="")}),this.feedbackContact.bind("click",function(){this.value==a.feedbackContactValue&&(this.value="")}),this.feedbackSubmit.bind("click",function(){var b=a.feedbackContent.val(),c=a.feedbackContact.val();if(a.feedbackContentValue!=b){var d="feedback|comment:"+b+"|qq:"+c+"|email:"+c;uigsPB(d)}a.feedbackDiv.hide(),a.feedbackOver.show(),setTimeout(function(){a.feedbackOver.hide()},2e3)}),this.feedbackClose.bind("click",function(){a.feedbackDiv.hide()})}function setUrl(){picDetailObj&&(picDetailObj.setURL?picDetailObj.setURL("/pics?"+$.utils.jsonToQuery($.CurrentState.searchConf,function(a){return a})+"&reqType=ajax&tn=0&flash=true&start="):setTimeout(setUrl,100))}function setQueryString(){picDetailObj&&(picDetailObj.setQueryString?picDetailObj.setQueryString($.DataManager.query):setTimeout(setQueryString,100))}function setCurDisplayImg(){if(picDetailObj)if(clearTimeout(curDisImgTimeout),picDetailObj.setCurDisplayImg)try{picDetailObj.setCurDisplayImg($.CurrentState.did,$.CurrentState.zutuIndex)}catch(a){}else curDisImgTimeout=setTimeout(setCurDisplayImg,100)}function loadData(a,b,c){picDetailObj&&(picDetailObj.loadData?picDetailObj.loadData(a,b,c):setTimeout(function(){loadData(a,b,c)},200))}jQuery.Constant={headHeight:53,toolBarHeight:38,asideWidth:311,contentBorder:1,arrowWidth:80,zutuArrowWidth:50,viewListHeight:116,thumbBlockWidth:76,thumbBlockMargin:0,thumbWidth:64,thumbHeight:64,thumbListSpan:50,detailButtonWidth:64,minHeight:420,minWidth:1210},jQuery.CurrentState={searchConf:$.utils.queryToJson($.utils.escapeXSS(queryEncodeGbk+fatalParamList+fixedParamList+asfParamList+hiddenParaList+paras)),ts:ts,tc:tc,did:0,zutuIndex:-1,zutuBeginIndex:-1,isIE6:!!window.ActiveXObject&&!window.XMLHttpRequest,fanyeTimes:0,init:function(){var a=location.href,b=a.indexOf("#"),c="";b>=0?(this.urlPrefix=a.substring(0,b),c=a.substring(b+1)):this.urlPrefix=a;var d=-1,e=-1;if(c&&""!=c){var f=c.indexOf("did");if(0==f){var g=c.substring(3),h=g.split("_");h&&h.length>=1&&($.utils.isInt(h[0])&&(d=parseInt(h[0])),2==h.length&&$.utils.isInt(h[1])&&(e=parseInt(h[1])))}}-1!=d?this.did=d:this.did=urlDid>0?urlDid-1:0,this.zutuIndex=e}},jQuery.DataManager={options:{minPn:0,maxPn:2400,requestImgPerBlock:48},data:[],grpData:{},blocks:[],flashData:{},constant:$.Constant,currentState:$.CurrentState,vrItemLen:0,zoomImg:function(a){if(a.width&&a.height||(a.width=220,a.height=148),!a.thumb_width||!a.thumb_height||0==a.thumb_width||0==a.thumb_height)if(a.width*a.height>48400){var b=220/a.width;a.thumb_width=Math.floor(a.width*b),a.thumb_height=Math.floor(a.height*b)}else a.thumb_width=a.width,a.thumb_height=a.height;var c=$.utils.zoomImgBig(this.constant.thumbWidth,this.constant.thumbHeight,a.thumb_width,a.thumb_height);if(a.zoomThumbWidth=c.width,a.zoomThumbHeight=c.height,a.zoomThumbLeft=(this.constant.thumbWidth-c.width)/2,this.constant.thumbHeight>=c.height)a.zoomThumbTop=(this.constant.thumbHeight-c.height)/2;else{var d=.06*c.height;2*d+this.constant.thumbHeight<=c.height?a.zoomThumbTop=0-d:a.zoomThumbTop=(this.constant.thumbHeight-c.height)/2}return a},storeData:function(tData,blockIds,isNeed){var ops=this.options;if("string"==typeof tData)try{eval("var tempData="+tData)}catch(e){return!1}else var tempData=tData;this.query=tempData.query,ops.maxPn=(tempData.maxEnd||2400)+this.vrItemLen;var items=tempData.items||[];if(!blockIds){blockIds=[];for(var blkLen=Math.floor(items.length/this.options.requestImgPerBlock),k=0;blkLen>k;k++)blockIds[blockIds.length]=k}for(var startIndex=blockIds[0]*ops.requestImgPerBlock,itemLen=items.length,i=0;itemLen>i;i++){var index=i+startIndex+this.vrItemLen;items[i].cacheIndex=index,items[i].rindex=index,this.data[index]=this.zoomImg(items[i])}for(var r=0;r<blockIds.length;r++)this.blocks[blockIds[r]]=2;this.flashData[startIndex]=tempData;try{("undefined"==typeof isNeed||isNeed)&&loadData(tempData,startIndex,this.vrItemLen)}catch(e){}return uigsPB("storedata_"+itemLen),!0},getDataByDid:function(a,b,c){if(a-=this.vrItemLen,!(0>a)){var d=function(a){c&&c.apply(window)};this.fetchData(a,a,b,d)}},isReady:function(a){if(a-=this.vrItemLen,0>a)return!0;var b=this.getBlock(a,a,2);return b.length>0?!0:!1},isNotFetch:function(a){if(a-=this.vrItemLen,0>a)return!1;var b=this.getBlock(a,a,void 0);return b.length>0?!0:!1},fetchData:function(a,b,c,d){a=Math.min(Math.max(a,this.options.minPn),this.options.maxPn-1),b=Math.min(Math.max(b,this.options.minPn),this.options.maxPn);var e=this.getBlock(a,b,void 0),f=this.getBlock(a,b,1);if(0==e.length&&0==f.length)return d.apply(this,[{start:a,end:b,indexStore:this.data}]),!0;var g,h=e[0]*this.options.requestImgPerBlock,i=this.getUrl(h),j=this;g=function(c){return j.storeData(c,e)?(d.apply(j,[{start:a,end:b,indexStore:j.data}]),!0):!1},$.ajax({url:i,async:c,success:g});for(var k=0,l=e.length;l>k;k++)this.blocks[e[k]]=2!=this.blocks[e[k]]?1:2},getUrl:function(a){var b="/pics?"+$.utils.jsonToQuery(this.currentState.searchConf,function(a){return a})+"&start="+a+"&reqType=ajax&tn=0&reqFrom=detail";return b},getBlock:function(a,b,c){var d=Math.floor(a/this.options.requestImgPerBlock),e=Math.floor(b/this.options.requestImgPerBlock);e=Math.max(e,d);for(var f=[],g=d;e>=g;g++)void 0==c||1==c?(void 0==this.blocks[g]||1==this.blocks[g])&&f.push(g):this.blocks[g]==c&&f.push(g);return f},getZutuByDid:function(did,isAsync){if(this.data[did]&&this.data[did].groupsize>=4){var url="/pics/imageddetail2013.jsp?k="+this.currentState.searchConf.query+"&tc="+this.currentState.tc+"&t="+this.currentState.ts+"&id="+did+"&d="+this.data[did].grpdocs.replace(/ /g,",")+"&stype="+this.data[did].summarytype,self=this,successFn=function(responseText){for(var r=eval(responseText),len=r.length,i=0;len>i;i++)r[i].rindex=i,self.zoomImg(r[i]);self.grpData[did].data=r,self.grpData[did].state=2},errorFn=function(){self.grpData[did].state=3},g={data:[],state:1};this.grpData[did]=g,$.ajax({url:url,async:isAsync,success:successFn,error:errorFn})}},zutuIsReady:function(a){return this.grpData[a]&&2==this.grpData[a].state?!0:!1},zutuHasNotBuffer:function(a){return this.grpData[a]?!1:!0},zutuIsError:function(a){return this.grpData[a]&&3==this.grpData[a].state?!0:!1}};var picDetailObj=document.getElementById("PicDetail"),curDisImgTimeout=null,time1=(new Date).getTime();$.CurrentState.init();var imgTempDataItems=imgTempData.items,commonData=imgTempDataItems.slice(imgTempDataItems.length-itemsOnPage);imgTempData.items=commonData,$.DataManager.storeData(imgTempData,$.DataManager.getBlock(initDid-1,initDid-1,void 0),parseInt((initDid-1)/48)==parseInt($.CurrentState.did/48)),$.DataManager.options.maxPn=$.DataManager.options.maxPn-$.DataManager.vrItemLen;var viewPortObj=new ViewPort,imgDetailObj=new ImgDetail;gImgDetailObj=imgDetailObj;var asideObj=new Aside,botViewListObj=new BotViewList,toolBarObj=new ToolBar;imgDetailObj.init(botViewListObj,toolBarObj,asideObj),asideObj.init(botViewListObj),botViewListObj.init(imgDetailObj,asideObj),viewPortObj.init(imgDetailObj,asideObj,botViewListObj,toolBarObj);var time2=(new Date).getTime();uigsPB("fprt_"+(time2-time1)),setUrl(),setQueryString(),document.title=$.DataManager.query+"-搜狗图片搜索";var dragStrategy;try{dragStrategy=new DragStrategy,dragStrategy.init()}catch(e){}});